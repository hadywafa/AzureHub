# ğŸ—ï¸ Azure DevOps Deployment Concepts

## ğŸ“Œ 1. Agent Pool

- **Definition** â†’ Collection of **build/release agents** that execute pipeline jobs.
- **Purpose** â†’ Provides compute power (VMs/agents) to run builds/tests/deployments.
- **Scope** â†’ Org-wide (shared across projects).
- **Example** â†’ Microsoft-hosted `ubuntu-latest`, or your custom self-hosted agents.

---

## ğŸ“Œ 2. Deployment Group

- **Definition** â†’ Collection of **target servers/machines** (on-prem, VM, IIS servers) used in **classic release pipelines**.
- **Purpose** â†’ Defines _where_ your app gets deployed.
- **Scope** â†’ Project-level.
- **Example** â†’ `Prod-Web-Servers` group with 3 IIS servers running deployment agents.

---

## ğŸ“Œ 3. Environment

- **Definition** â†’ Modern **replacement for Deployment Groups** in **YAML pipelines**.
- **Purpose** â†’ Represents _where_ deployments happen, but also adds:
  - âœ… **Approvals** (e.g., manager sign-off before prod deploy).
  - âœ… **Checks** (quality gates, policy validation).
  - âœ… **Resource types** (VMs, Kubernetes, Azure resources).
- **Scope** â†’ Project-level.
- **Example** â†’ `Production` environment with Kubernetes cluster + approvals.

---

## ğŸ“Š Comparison Table

| Feature               | **Agent Pool**            | **Deployment Group**            | **Environment**                           |
| --------------------- | ------------------------- | ------------------------------- | ----------------------------------------- |
| **What it Manages**   | Pipeline agents (workers) | Target servers (classic)        | Deployment targets (modern)               |
| **Pipeline Type**     | CI/CD jobs (build/test)   | Classic Release Pipelines       | Multi-stage YAML                          |
| **Scope**             | Organization              | Project                         | Project                                   |
| **Used For**          | Running pipeline tasks    | Deploying to VMs, IIS, on-prem  | Deploying to cloud/VMs/K8s with approvals |
| **Modern Equivalent** | Still valid               | âœ… Replaced by **Environments** | New standard                              |

---

## ğŸ“ˆ Visual Diagram

```mermaid
flowchart TD
    A[Agent Pool] -->|Provides compute| B[Pipeline Jobs (build/test)]
    C[Deployment Group] -->|Classic| D[Release Pipeline Deployment]
    E[Environment] -->|Modern YAML| D
    D -->|Targets| F[VMs, IIS, Azure, K8s]
```

---

## ğŸ› ï¸ Real-World Example

### Youâ€™re deploying an **e-commerce web app**:

1. **Agent Pool** â†’ Microsoft-hosted Ubuntu agent builds the code.
2. **Deployment Group** â†’ (Classic) deploys build artifact to `WebServer1`, `WebServer2`.
3. **Environment** â†’ (Modern) defines `Production` environment â†’ deploys app to AKS cluster with approval gate.

---

## âœ… TL;DR

- **Agent Pool** = who runs the pipeline (workers).
- **Deployment Group** = where apps deploy (classic).
- **Environment** = where apps deploy + approvals + checks (modern YAML).

âš¡ Exam hack:

- If you see **classic release pipeline** â†’ Deployment Group.
- If you see **YAML + approvals** â†’ Environment.
- If you see **pipeline compute agents** â†’ Agent Pool.
