# ğŸŒ± Git Branching Strategies in Azure DevOps

> Git branching = how you structure collaboration, features, releases, and hotfixes in a dev team.  
> Azure DevOps supports all common strategies â€” but **you choose** what works best for your workflow.

---

## ğŸ§  Why Branching Strategy Matters

1. âœ… Helps teams **collaborate safely**
2. âœ… Controls what goes to **production**
3. âœ… Enables **pull requests**, **CI/CD**, **code reviews**
4. âœ… Prevents **breaking the main branch**

---

## ğŸ§­ Popular Git Branching Strategies (In Azure DevOps)

Letâ€™s walk through the most common ones ğŸ‘‡

---

### 1ï¸âƒ£ **Main Only (Trunk-Based)**

> ğŸï¸ Fastest, simplest, no frills

**Characteristic:**

1. ğŸ”§ All work happens on `main` or short-lived feature branches
1. ğŸ” Feature branches are merged back into `main` quickly
1. ğŸ§ª CI/CD runs on every push to `main`
1. ğŸš« No long-lived `dev` or `release` branches

#### âœ… Use When:

- Small team
- Continuous deployment
- You want _speed over ceremony_

---

### 2ï¸âƒ£ **Feature Branching (Most Common)**

> ğŸ› ï¸ Create a branch per feature, bug, or task

```bash
main
â”œâ”€â”€ feature/login
â”œâ”€â”€ feature/search
â”œâ”€â”€ bugfix/session-timeout
```

**Characteristic:**

1. ğŸ“¦ Feature branches from `main` or `develop`
2. ğŸ§ª PRs used for review + testing
3. ğŸ” Merged back when ready
4. ğŸ‘® Often gated by **branch policies** in Azure DevOps

#### âœ… Use When:

- You want **code reviews**
- Medium/large teams
- Youâ€™re using **Azure Boards** (map branches to work items!)

---

### 3ï¸âƒ£ **Release Branching**

> ğŸ—ï¸ Isolate each release with dedicated branch

```bash
main
â”œâ”€â”€ release/v1.0
â”œâ”€â”€ release/v1.1
```

**Characteristic:**

1. âœ… Good for maintaining old versions
2. âœ… Backport hotfixes between releases
3. ğŸš¨ Merge carefully to avoid regressions

---

### 4ï¸âƒ£ **GitFlow**

> ğŸ§™â€â™‚ï¸ Full-blown release workflow (many branches)

```plaintext
main        â†’ production
develop     â†’ next release
feature/*   â†’ work in progress
release/*   â†’ staging
hotfix/*    â†’ critical fixes
```

| Branch      | Purpose                       |
| ----------- | ----------------------------- |
| `main`      | Only production-ready code    |
| `develop`   | Latest dev build              |
| `feature/*` | Feature development           |
| `release/*` | Prep for release (QA/staging) |
| `hotfix/*`  | Fix prod bugs fast            |

#### âœ… Use When:

- You have QA/UAT/staging flows
- Long-lived releases
- Enterprise workflow

#### âŒ Downside:

- Can get complex
- Lots of merging

> âŒ **Not recommended** for modern CI/CD unless your org has versioned builds, heavy compliance, or legacy tooling.

---

## ğŸ” Branch Policies in Azure DevOps

ğŸ’¡ Azure DevOps lets you **enforce rules on any branch**. Example policies:

| Policy              | What it Does                    |
| ------------------- | ------------------------------- |
| âœ… PR required      | No direct push to `main`        |
| ğŸ” Code reviewers   | Must approve PR                 |
| ğŸ§ª Build validation | Run CI before merging           |
| ğŸ” Merge strategy   | Squash / rebase / merge commit  |
| ğŸ›¡ï¸ Status checks    | Enforce tests or external gates |

You configure this in **Project â†’ Repos â†’ Branches â†’ \[Branch] â†’ Policies**

---

## ğŸ”„ Merge Strategies in Azure DevOps

When merging PRs:

| Strategy     | What it does                           |
| ------------ | -------------------------------------- |
| Merge commit | Keeps full history with a merge commit |
| Squash       | Combines all commits into one          |
| Rebase       | Linear history, no merge commits       |

---

## ğŸ§° DevOps Best Practices

- âœ… Link branches to Azure Boards work items
- âœ… Use meaningful branch names (`feature/login-ui`, `bugfix/1234-crash`)
- âœ… Use short-lived branches
- âœ… Protect `main` and `release/*` with policies
- âœ… Automatically deploy on `main` push (CI/CD)

---

## ğŸ“Œ Example Setup for Teams

| Team Size | Recommended Strategy | Notes                            |
| --------- | -------------------- | -------------------------------- |
| Small     | Trunk-Based          | Speed, less ceremony             |
| Medium    | Feature Branching    | PRs, tests, quality gates        |
| Large     | GitFlow + Releases   | Complex releases, hotfix control |

---

## ğŸ–¼ï¸ Visual Summary

```mermaid
graph TD
    main((main))
    develop((develop))
    feature1((feature/login))
    feature2((feature/search))
    release((release/1.0))
    hotfix((hotfix/crash-fix))

    main --> develop
    develop --> feature1
    develop --> feature2
    develop --> release
    main --> hotfix
    hotfix --> main
    release --> main
```

---

## âœ… TL;DR: Strategy Quick Pick

| Need                         | Use This          |
| ---------------------------- | ----------------- |
| ğŸš€ Fast iteration            | Trunk-Based       |
| ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Team reviews, stable main | Feature Branching |
| ğŸ—ï¸ Complex release/hotfix    | GitFlow           |
| ğŸ§“ Maintain old versions     | Release Branching |
