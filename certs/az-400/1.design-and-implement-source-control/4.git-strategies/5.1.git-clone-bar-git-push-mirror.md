# ğŸª Git `--mirror` vs `--bare`

## ğŸ“Œ 1. Normal Repository (default `git init`)

When you run:

```bash
git init my-app
```

You get:

- A **working directory** (`.cs`, `.js`, etc.)
- A hidden `.git/` folder with history

ğŸ‘‰ You can edit code + commit.
This is what you normally use.

---

## ğŸ“Œ 2. `--bare` Repository

```bash
git init --bare my-app.git
```

- Creates a repo with **only Git history** (no working directory).
- You **canâ€™t edit code here** â€” only push/pull.
- Usually ends with `.git` and acts like a **central server repo**.

ğŸ‘‰ Example:

1. On server:

   ```bash
   mkdir /srv/git
   cd /srv/git
   git init --bare my-app.git
   ```

2. On developer machine:

   ```bash
   git clone user@server:/srv/git/my-app.git
   ```

   Now devs clone â†’ push â†’ pull.
   **Bare repos = collaboration hubs.**

---

## ğŸ“Œ 3. `--mirror` Clone

```bash
git clone --mirror https://github.com/org/my-app.git
```

- A **special clone** that copies:

  - All branches
  - All tags
  - All refs (even remotes, notes, etc.)

- Unlike normal `git clone`, it doesnâ€™t just grab `main` + HEAD.

ğŸ‘‰ Use case: **full migration/backup** of a repo.

### Example: Migrating GitHub â†’ Azure DevOps

```bash
# Clone everything (full mirror)
git clone --mirror https://github.com/org/my-app.git

cd my-app.git

# Push everything to new DevOps repo
git push --mirror https://dev.azure.com/myorg/_git/my-app
```

âœ… All branches/tags/history preserved exactly.
âš ï¸ Without `--mirror`, you might miss refs/branches.

---

## ğŸ“Š Comparison Table

| Type       | Has Working Directory? | Use Case                   | Example                      |
| ---------- | ---------------------- | -------------------------- | ---------------------------- |
| **Normal** | âœ… Yes                 | Local dev work             | `git init my-app`            |
| **Bare**   | âŒ No                  | Central repo for push/pull | `git init --bare my-app.git` |
| **Mirror** | âŒ No                  | Full backup/migration      | `git clone --mirror <url>`   |

---

## ğŸ“Œ 4. Real-World Scenarios

- **`--bare`** â†’
  Company sets up **shared repo** on a server. All devs push/pull here.

- **`--mirror`** â†’
  You want to **migrate from GitHub â†’ Azure DevOps** without losing branches/tags.

---

## âœ… TL;DR

- `--bare` = repo with no working files â†’ central repo for team.
- `--mirror` = special clone for **complete migration/backup**.
- For **day-to-day dev** â†’ use normal repo.
- For **server hosting** â†’ use bare.
- For **moving everything** â†’ use mirror.
