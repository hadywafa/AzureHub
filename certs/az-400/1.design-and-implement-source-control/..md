# A7A

## âœ… FIXED: Squash Merge â€“ Before & After

### ðŸ”‚ Before (from **C**, not B)

```mermaid
---
config:
  look: handDrawn
  layout: elk
---
flowchart TD
  A[A] --> B[B]
  B --> C[C]:::main
  C --> D[D]:::feature --> E[E]:::feature

  classDef main fill:#aaf,stroke:#000;
  classDef feature fill:#faa,stroke:#000;
```

---

### âœ… After

```mermaid
---
config:
  look: handDrawn
  layout: elk
---
flowchart TD
  A[A] --> B[B]
  B --> C[C]
  C --> S[SQUASHED]:::squash

  classDef squash fill:#0f0,stroke:#000;
```

---

## âœ… FIXED: Rebase and Fast-Forward â€“ Before & After

### ðŸ”‚ Before (from **C**)

```mermaid
---
config:
  look: handDrawn
  layout: elk
---
flowchart TD
  A[A] --> B[B]
  B --> C[C]:::main
  C --> D[D]:::feature --> E[E]:::feature

  classDef main fill:#aaf,stroke:#000;
  classDef feature fill:#faa,stroke:#000;
```

---

### âœ… After (Rebased onto C, Fast-Forwarded)

```mermaid
---
config:
  look: handDrawn
  layout: elk
---
flowchart TD
  A[A] --> B[B]
  B --> C[C]
  C --> D1[D']:::rebased --> E1[E']:::rebased

  classDef rebased fill:#0ff,stroke:#000;
```

- Commits `D` and `E` become `D'`, `E'`
- No merge commit, linear timeline

---

## âœ… FIXED: Semi-Linear Merge â€“ Before & After

### ðŸ”‚ Before (from **C**)

```mermaid
---
config:
  look: handDrawn
  layout: elk
---
flowchart TD
  A[A] --> B[B]
  B --> C[C]:::main
  C --> D[D]:::feature --> E[E]:::feature

  classDef main fill:#aaf,stroke:#000;
  classDef feature fill:#faa,stroke:#000;
```

---

### âœ… After (Rebase onto C + Merge Commit)

```mermaid
---
config:
  look: handDrawn
  layout: elk
---
flowchart TD
  A[A] --> B[B]
  B --> C[C]
  C --> D1[D']:::rebased --> E1[E']:::rebased
  C --> M[M]:::merge
  E1 --> M

  classDef rebased fill:#0ff,stroke:#000;
  classDef merge fill:#ff0,stroke:#000;
```

- D/E rebased onto `C`, then merged via commit `M`
- âœ… Linear history
- âœ… PR traceability
- âœ… Ideal for CI/CD pipelines that audit merges

---

## ðŸ§  Summary of the Fixes

| Strategy              | Base Commit Should Be | Why?                                          |
| --------------------- | --------------------- | --------------------------------------------- |
| Merge Commit (no-ff)  | `B` or `C` (both OK)  | Rebase not required, direct merge             |
| **Squash Merge**      | âœ… `C` (fixed)        | PRs usually rebase on latest before squashing |
| **Rebase + FF**       | âœ… `C` (fixed)        | Rebasing must use the tip of `main`           |
| **Semi-Linear Merge** | âœ… `C` (fixed)        | Rebase always uses latest `main`, then merge  |
