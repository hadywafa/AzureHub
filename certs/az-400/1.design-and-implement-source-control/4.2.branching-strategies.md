# âœ… Git Branching Strategies â€” _Professional DevOps Implementation Guide_

## ğŸ”¥ 1. Feature Branch Strategy

**Goal:** Isolate feature work. Avoid polluting `main` or `develop` with half-done work.

<div align="center">
    <img src="images/feature-branch-strategy.png" alt="Feature Branch Strategy" style="width: 80%; border-radius: 10px;">
</div>

---

### âœ… Real Usage:

- Each developer works in a `feature/xyz` branch
- Once done â†’ PR â†’ merge to `develop` or `main`
- CI validates the branch on every push + PR

### âœ… When to Use:

- You need parallel feature dev
- You have PR-based code review policies
- Youâ€™re working with product owners who validate before merge

### ğŸ”§ Git Pattern:

```bash
git checkout -b feature/login-form
# Work, commit
git push origin feature/login-form
# Open PR to 'develop' or 'main'
```

### ğŸ” DevOps Enforcement (e.g., GitHub, GitLab, Azure DevOps):

- âœ… PR required
- âœ… CI: test + lint + security scan
- âœ… Optional: deploy preview environment
- âœ… Require approvals

---

## ğŸš€ 2. Trunk-Based Development

**Goal:** Release fast. Everything goes into `main` (or `trunk`) quickly and safely.

<div align="center">
    <img src="images/trunk-based-development.png" alt="Trunk Based Development" style="width: 80%; border-radius: 10px;">
</div>

---

### âœ… Real Usage:

- Teams commit to `main` several times a day
- Use **feature flags** to hide unfinished work
- CI/CD is mandatory and automated

### âœ… When to Use:

- CI/CD is in place
- Small teams or microservices
- You're doing test-first or flag-driven dev

### ğŸ”§ Git Pattern:

```bash
git checkout -b login-cleanup
# Work
git commit -m "Refactor login"
git push origin login-cleanup
# Merge same-day to main (after tests pass)
```

### ğŸ” DevOps Enforcement:

- âœ… Protect `main`: no direct push
- âœ… CI runs on every push & PR
- âœ… Use toggles to hide features (`LaunchDarkly`, config flags)
- âœ… Canary + blue/green for prod safety

---

## ğŸ“¦ 3. Release Branching

**Goal:** Lock features and stabilize a version before production.

<div align="center">
    <img src="images/release-branch-strategy.png" alt="Release Branch Strategy" style="width: 80%; border-radius: 10px;">
</div>

---

### âœ… Real Usage:

- Create `release/1.5.0` from `develop`
- Only allow **bug fixes, tests, translations**
- After QA â†’ merge into `main` and tag

### âœ… When to Use:

- You have a versioned product (not always latest)
- QA needs a stable base to test
- Multiple environments (UAT, staging)

### ğŸ”§ Git Pattern:

```bash
git checkout develop
git checkout -b release/1.5.0
# QA, bugfixes
git checkout main
git merge release/1.5.0
git tag v1.5.0
```

### ğŸ” DevOps Enforcement:

- âœ… Create build pipelines for `release/*`
- âœ… Deploy to staging/UAT from release branch
- âœ… Tag only on release approval
- âœ… Block features from merging into release

---

## ğŸ› ï¸ 4. Hotfix Branch

**Goal:** Patch prod _now_, without waiting on `develop`.

### âœ… Real Usage:

- Branch from `main`
- Fix the issue
- Merge back into both `main` and `develop`

### ğŸ”§ Git Pattern:

```bash
git checkout main
git checkout -b hotfix/payment-error
# Fix & test
git commit -m "Fix critical prod bug"
git checkout main
git merge hotfix/payment-error
git checkout develop
git merge hotfix/payment-error
```

### ğŸ” DevOps Enforcement:

- âœ… Block all non-critical changes
- âœ… CI must pass before merging to main
- âœ… Auto-deploy after tag (e.g., `v1.5.1-hotfix`)

---

## ğŸ§  Git Flow (Legacy/Heavyweight)

**Goal:** Manage full lifecycle in strict, versioned workflow.
**Not recommended** for modern CI/CD unless your org has versioned builds, heavy compliance, or legacy tooling.

### ğŸ§± Branch Types:

- `main`: prod only
- `develop`: integration branch
- `feature/*`
- `release/*`
- `hotfix/*`

**Too heavy for fast-paced teams. Only useful if you must control releases tightly.**

---

## ğŸ›¡ï¸ Branch Naming Standards (Real Teams Use These)

| Type    | Pattern             | Example                       |
| ------- | ------------------- | ----------------------------- |
| Feature | `feature/<ticket>`  | `feature/PROJ-1234-login`     |
| Bugfix  | `bugfix/<ticket>`   | `bugfix/PROJ-2034-validation` |
| Release | `release/<version>` | `release/2.0.0`               |
| Hotfix  | `hotfix/<desc>`     | `hotfix/prod-502-error`       |

---

## ğŸ“¦ CI/CD Setup Per Strategy (Table)

| Branch Type | Test | Lint | Deploy             | Tag    | Environments |
| ----------- | ---- | ---- | ------------------ | ------ | ------------ |
| `feature/*` | âœ…   | âœ…   | Optional (preview) | âŒ     | Dev only     |
| `release/*` | âœ…   | âœ…   | âœ… (QA/UAT)        | Manual | QA, UAT      |
| `main`      | âœ…   | âœ…   | âœ… (Auto to Prod)  | âœ…     | Production   |
| `hotfix/*`  | âœ…   | âœ…   | âœ… (Auto to Prod)  | âœ…     | Production   |

---

## ğŸ’¡ Real World Best Practices

- Never allow direct commits to `main`
- Auto-delete merged branches (keep repo clean)
- Always tag production releases (`v2.1.0`)
- Automate branch-based deployments (e.g., `release/*` â†’ staging, `main` â†’ prod)
- Use short-lived feature branches (<3 days ideal)
- Review metrics on stale PRs
