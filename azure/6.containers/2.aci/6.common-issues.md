# Common Issues

## ⚠️ 1. Common Errors - `RegistryErrorResponse` from `index.docker.io`

this error is a **Docker Hub rate limit issue**, and it’s been hitting Azure users hard since mid-2024.

### 🚫 Why You're Seeing `RegistryErrorResponse` from `index.docker.io`

Azure Container Instances (ACI) is trying to pull the `redis:7-alpine` image from Docker Hub **anonymously**, but Docker now enforces strict pull limits:

- **Anonymous users**: 100 pulls per 6 hours
- **Free Docker accounts**: 200 pulls per 6 hours
- **Paid accounts**: 5,000 pulls per 24 hours

Microsoft’s agreement with Docker to allow unlimited pulls from Azure IPs **expired on June 30, 2024**. So now, even Azure services get throttled unless authenticated.

---

### ✅ Fix Options

#### 🔧 Option 1: **Use a Docker Hub account**

Create a free Docker account, then pass credentials to ACI:

```yaml
imageRegistryCredentials:
  - server: index.docker.io
    username: your_dockerhub_username
    password: your_dockerhub_password
```

> This lifts you to 200 pulls per 6 hours — enough for testing and small deployments.

---

#### 🔧 Option 2: **Cache the image in your ACR**

This is the cleanest and most visibility-friendly solution:

##### Step-by-step:

```bash
# Pull Redis image locally
docker pull redis:7-alpine

# Tag it for your ACR
docker tag redis:7-alpine $ACR_SERVER/redis:7-alpine

# Push to ACR
docker push $ACR_SERVER/redis:7-alpine
```

Then update your YAML:

```yaml
image: ${ACR_SERVER}/redis:7-alpine
```

Now both containers come from your ACR — no rate limits, no surprises.
