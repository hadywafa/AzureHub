# ğŸ”‘ **Authorization Level in Azure Functions**

## â‰ï¸ **What It Is**

- When you create a function with an **HTTP trigger**, you must set its `authLevel`.
- This tells Azure **how secure the function endpoint should be**.
- The level determines if the caller needs:

  - **No key** (open to the world ğŸŒ)
  - **A function key** (shared secret per function or app ğŸ”‘)
  - **An admin key** (full access to everything in the app ğŸ‘‘)

---

## ğŸ­ **Available Levels**

| **Level**     | **Description**                                                                                         | **When to Use**                            |
| ------------- | ------------------------------------------------------------------------------------------------------- | ------------------------------------------ |
| **Anonymous** | Anyone can call the function â€” no key required and it is (**Read-only**).                                                         | Public endpoints, testing, open APIs.      |
| **Function**  | Requires a **function key** (either specific to the function or the whole app).                         | Internal apps, partner APIs.               |
| **Admin**     | Requires a **master key** (host-level). Provides full access, including admin APIs.                     | Management tasks, very rare in normal use. |
| **System**  | Used by **Azure platform** for system-managed calls (e.g., Event Grid). Not meant for external callers. | Internal system integrations only.         |

---

## ğŸ¯ **Where It Appears**

### ğŸŸ¦ In `function.json` (for JS/Python, etc.)

```json
{
  "bindings": [
    {
      "type": "httpTrigger",
      "authLevel": "function",
      "direction": "in",
      "methods": ["get", "post"],
      "name": "req"
    },
    {
      "type": "http",
      "direction": "out",
      "name": "$return"
    }
  ]
}
```

### ğŸŸ¦ In C# (attributes)

```csharp
[Function("MyFunction")]
public async Task<HttpResponseData> Run(
    [HttpTrigger(AuthorizationLevel.Function, "get", "post")] HttpRequestData req)
{
    // Function code
}
```

---

## âœğŸ» **Example URLs**

Suppose your Function App is at:

```ini
https://myapp.azurewebsites.net
```

- **Anonymous**:
  ğŸ‘‰ `https://myapp.azurewebsites.net/api/MyFunction`
  Works with no key.

- **Function**:
  ğŸ‘‰ `https://myapp.azurewebsites.net/api/MyFunction?code=<function_key>`
  Caller must include the `code` query param (or `x-functions-key` header).

- **Admin**:
  ğŸ‘‰ `https://myapp.azurewebsites.net/admin/functions/MyFunction?code=<master_key>`
  Master key unlocks **all functions** in the app.

---

## ğŸ¤” **Where Keys Are Found**

- In **Azure Portal** â†’ Function App â†’ _Functions_ â†’ _Function Keys_ tab.
- You get:

  - **Function keys** (per function)
  - **Default function key** (shared across all)
  - **Host keys** (admin-level)

---

## âœ… **Best Practices**

- âœ… Use **Anonymous** only for public APIs where security is handled elsewhere (e.g., via API Management, JWT, OAuth).
- âœ… Use **Function** for most real-world cases â€” gives you a secret key per function.
- âœ… Use **Admin** only for internal/admin operations.
- ğŸš« Donâ€™t commit keys into code or Git repos â€” store them in **Azure Key Vault** or **App Settings**.
- ğŸ”’ Combine with **App Service Authentication / AAD auth** if you need strong identity-based access.

---

## ğŸ **Quick Analogy**

Think of your Function App like a **building**:

- **Anonymous** = doors wide open ğŸ 
- **Function** = keypad lock, code shared with guests ğŸ”‘
- **Admin** = master key, works on every door ğŸ‘‘
- **System** = janitorâ€™s pass, used by the building itself ğŸ› ï¸
