# ğŸŒ **Project: Deploy an Azure App Service (Portal + CLI)**

## ğŸ“Œ **Scenario**

Youâ€™re tasked with deploying a **web app** to Azure.
Instead of manually managing VMs, scaling, and patching, youâ€™ll use **App Service**, which gives you a **PaaS hosting environment** for .NET, Node.js, Python, Java, or PHP apps.

Weâ€™ll deploy in **two ways**:

1. **Portal (click-ops)**
2. **Azure CLI (infra as code-lite)**

---

## ğŸš€ **Part 1: Deploy via Azure Portal**

### ğŸ”¹ Step 1: Create a Resource Group

- In the Portal â†’ Search **Resource groups** â†’ **+ Create**
- Example: `rg-appservice-demo`

---

### ğŸ”¹ Step 2: Create App Service (Web App)

1. Search **App Service** â†’ Click **+ Create**
2. Fill in **Basics**:

   - **Subscription**: Select yours
   - **Resource Group**: `rg-appservice-demo`
   - **Name**: `az204demoapp01` â†’ becomes `az204demoapp01.azurewebsites.net`
   - **Publish**: Code (or Docker Container if using containers)
   - **Runtime stack**: Choose (e.g., `.NET 8`, `Node.js 20`, `Python 3.12`)
   - **OS**: Windows (for classic ASP.NET) / Linux (for modern stacks)
   - **Region**: Closest region

<div align="left">
  <img src="image/2.2.hands-on-service-plan/1758223749501.png" alt="Without App Service" style="width: 60%; border-radius: 10px; border: 2px solid white;margin: 0 60px">
</div>

---

### ğŸ”¹ Step 3: Create an App Service Plan

- **App Service Plan** = compute (VMs) + pricing
- Click **Create new** â†’ Name: `asp-appdemo01`
- Choose **SKU** (pricing tier):

  - **Free/Shared (F1/D1)** â†’ testing only (no scaling, no staging slots)
  - **Basic (B1â€“B3)** â†’ small prod apps
  - **Standard (S1â€“S3)** â†’ staging slots, backups, auto-scaling
  - **Premium/Isolated** â†’ mission-critical workloads

<div align="left">
  <img src="image/2.2.hands-on-service-plan/1758223948213.png" alt="Without App Service" style="width: 60%; border-radius: 10px; border: 2px solid white;margin: 0 60px">
</div>

> âš ï¸ Be aware that the shared tier has limitations, such as no auto scaling, staging slots, or zone redundancy.

---

### ğŸ”¹ Step 4: Configure Deployment (optional)

- **Continuous Deployment**: GitHub, Azure DevOps, Bitbucket
- **Networking**: VNET integration (only in Standard+)
- **Monitoring**: Enable **Application Insights** for telemetry

<div align="left">
  <img src="image/2.2.hands-on-service-plan/1758224063444.png" alt="Without App Service" style="width: 60%; border-radius: 10px; border: 2px solid white;margin: 0 30px">
</div>

---

### ğŸ”¹ Step 5: Review + Create

- Click **Review + Create** â†’ **Create**
- Wait for deployment to finish

<div align="left">
  <img src="image/2.2.hands-on-service-plan/1758224424423.png" alt="Without App Service" style="width: 60%; border-radius: 10px; border: 2px solid white;margin: 0 30px">
</div>

---

### ğŸ”¹ Step 6: Verify Deployment

- Go to the resource â†’ Overview â†’ **Default URL** (e.g., `https://az204demoapp01.azurewebsites.net/`)
- Open in browser â†’ Youâ€™ll see the default hosting page ğŸ‰

---

## ğŸ§‘â€ğŸ’» **Part 2: Deploy via Azure CLI**

Now, letâ€™s do the same but in **bash/CLI**.

### ğŸ”¹ Step 1: Create Resource Group

```bash
az group create \
  --name rg-appservice-demo \
  --location eastus
```

---

### ğŸ”¹ Step 2: Create App Service Plan

```bash
az appservice plan create \
  --name asp-appdemo01 \
  --resource-group rg-appservice-demo \
  --sku B1 \
  --is-linux
```

- `--sku` â†’ pricing tier (`F1`, `B1`, `S1`, etc.)
- `--is-linux` â†’ host on Linux (omit for Windows)

---

### ğŸ”¹ Step 3: Create Web App

```bash
az webapp create \
  --name az204demoapp01 \
  --resource-group rg-appservice-demo \
  --plan asp-appdemo01 \
  --runtime "DOTNETCORE:8.0"
```

- `--runtime` supports `.NET`, `NODE:20-lts`, `PYTHON:3.12`, etc.

---

### ğŸ”¹ Step 4: Verify

```bash
az webapp show \
  --name az204demoapp01 \
  --resource-group rg-appservice-demo \
  --query defaultHostName \
  -o tsv
```

ğŸ‘‰ Output:

```text
az204demoapp01.azurewebsites.net
```

Open that in browser ğŸ‰

---

## ğŸ— **App Service Architecture (Simplified)**

<div align="center">

```mermaid
flowchart TD
    Client[ğŸŒ User Browser] -->|HTTP/HTTPS| WebApp[Azure App Service]
    WebApp -->|Code hosted| AppServicePlan[(App Service Plan: Compute Tier)]
    AppServicePlan -->|Scaling| AzureInfra[Azure VM Pool]
```

</div>

ğŸ“Œ **App Service** = Web app container  
ğŸ“Œ **App Service Plan** = compute tier (VMs, scaling rules, pricing)  
ğŸ“Œ **Azure Infra** = abstracts VM patching, scaling, load balancing

---

## ğŸ”’ **Best Practices**

- Use **Standard or higher** tiers for prod (scaling, staging slots).
- Enable **Application Insights** for monitoring.
- Store **secrets in Key Vault**, not App Settings.
- Use **Deployment Slots** for zero-downtime deployments.
- Automate with **Azure CLI + Bicep/Terraform** for repeatable infra.

---

## ğŸ **TL;DR**

1. **Portal** â†’ easy wizard â†’ App Service + Plan + Runtime stack â†’ Deploy â†’ Access via URL.
2. **CLI** â†’ `az group create` â†’ `az appservice plan create` â†’ `az webapp create`.
3. Both approaches land you a fully managed PaaS web host.
