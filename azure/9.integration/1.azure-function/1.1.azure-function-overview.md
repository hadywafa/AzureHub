# âš¡ **Azure Functions**

## ğŸ“Œ **What is Azure Functions?**

Azure Functions is a **serverless compute service** that lets you run small units of code (functions) **without managing servers or infrastructure**.

Think of it as:

- Write your code â†’ Azure runs it when **something happens** (an event).
- No VM, no container setup, no scaling headaches.
- Pay only for the **execution time** and resources used.

---

<div align="center" style="background-color: #ffffffff ;border-radius: 10px;border: 2px solid white">
  <img src="image/1.azure-function-overview/1758301502358.png" alt="Azure Functions Overview" style="border-radius: 10px; width: 50%; border: 2px solid white">
</div>

---

## ğŸ¯ **Why Use It?**

- **Event-driven** â€“ respond to triggers like HTTP requests, queue messages, timers, database changes.
- **Scale automatically** â€“ from 0 to thousands of executions per second.
- **Pay-per-use** â€“ consumption plan charges only when your function runs.
- **Polyglot** â€“ supports C#, Python, Java, JavaScript, PowerShell, Go, etc.
- **Integrations** â€“ deep integration with Azure services (Storage, Service Bus, Event Grid, Cosmos DB).

---

## ğŸ–¼ **Azure Functions Architecture**

ğŸ”¹ **Trigger**: Starts the function (e.g., HTTP request, queue message, CRON schedule).  
ğŸ”¹ **Function Code**: Your logic.  
ğŸ”¹ **Binding**: Simplifies connecting to services (input/output).

<div align="center" style="background-color: #ffffffff ;border-radius: 10px;border: 2px solid white;margin: 0 10px">
  <img src="image/1.1.azure-function-overview/1759163242517.png" alt="Azure Functions Overview" style="border-radius: 10px; width: 50%; border: 2px solid white">
</div>

---

## ğŸš€ **Hosting Models**

| Hosting Plan                   | Use Case                                 | Scaling                       |
| ------------------------------ | ---------------------------------------- | ----------------------------- |
| **1ï¸âƒ£ Consumption Plan**        | Default, pay-per-use, auto-scale         | Cold start possible           |
| **2ï¸âƒ£ Premium Plan**            | For predictable workloads, no cold start | Auto-scale + VNET integration |
| **3ï¸âƒ£ Dedicated (App Service)** | Runs on App Service Plan (fixed cost)    | Manual scaling                |

---

## ğŸ”Œ **Triggers & Bindings**

### ğŸ”¹ Triggers (start function execution)

- HTTP Trigger (API endpoint)
- Timer Trigger (`CRON` jobs)
- Blob Trigger (file upload in storage)
- Queue Trigger (message in Azure Storage Queue)
- Service Bus Trigger
- Event Grid / Event Hub Trigger
- Cosmos DB Trigger

### ğŸ”¹ Bindings (connect to other services)

- Input Binding â†’ bring data in.
- Output Binding â†’ send data out.

ğŸ‘‰ Example: Function triggered by an HTTP request â†’ writes result to Cosmos DB.

---

## ğŸ›  **Step-by-Step: Create Azure Function**

### 1ï¸âƒ£ Using **Azure Portal**

1. Go to **Azure Portal â†’ Create a Resource â†’ Function App**.
2. Configure:

   - Resource Group
   - Function App name (unique)
   - Runtime (C#, Python, Node.js, etc.)
   - Hosting plan (Consumption is default)
   - Storage Account (required for state + logs)

3. Deploy â†’ Go to **Functions â†’ Create â†’ HTTP Trigger**.
4. Test with built-in editor or Postman.

---

### 2ï¸âƒ£ Using **Azure CLI**

```bash
# Create RG
az group create --name rg-func-demo --location eastus

# Create Storage (required)
az storage account create \
  --name funcdemosa123 \
  --location eastus \
  --resource-group rg-func-demo \
  --sku Standard_LRS

# Create Function App
az functionapp create \
  --resource-group rg-func-demo \
  --consumption-plan-location eastus \
  --runtime dotnet \
  --functions-version 4 \
  --name funcdemo12345 \
  --storage-account funcdemosa123
```

---

### 3ï¸âƒ£ Function Code Example (C# HTTP Trigger)

```csharp
using System.IO;
using Microsoft.AspNetCore.Mvc;
using Microsoft.Azure.WebJobs;
using Microsoft.Azure.WebJobs.Extensions.Http;
using Microsoft.AspNetCore.Http;
using Microsoft.Extensions.Logging;
using Newtonsoft.Json;

public static class HelloFunction
{
    [FunctionName("HelloFunction")]
    public static async Task<IActionResult> Run(
        [HttpTrigger(AuthorizationLevel.Function, "get", "post")] HttpRequest req,
        ILogger log)
    {
        log.LogInformation("C# HTTP trigger processed a request.");

        string name = req.Query["name"];
        string responseMessage = string.IsNullOrEmpty(name)
            ? "Hello, Azure Functions ğŸš€!"
            : $"Hello, {name}! ğŸ‘‹";

        return new OkObjectResult(responseMessage);
    }
}
```

ğŸ‘‰ Call with:

```bash
curl https://funcdemo12345.azurewebsites.net/api/HelloFunction?name=John
```

Response:

```ini
Hello, John! ğŸ‘‹
```

---

## ğŸ§© **Real Use Cases**

ğŸ”¹ **Serverless APIs** â†’ quick REST endpoints without full backend.  
ğŸ”¹ **Data processing** â†’ process images when uploaded to Blob Storage.  
ğŸ”¹ **Event-driven workflows** â†’ new order â†’ push to queue â†’ trigger function â†’ notify user.  
ğŸ”¹ **CRON jobs** â†’ nightly cleanup, scheduled emails.

---

<div align="center" style="background-color: #ffffffff ;border-radius: 10px;border: 2px solid white;margin: 0 10px">
  <img src="image/1.azure-function-overview/1758301609804.png" alt="Azure Functions Overview" style="border-radius: 10px; width: 60%; border: 2px solid white;margin: 0 30px">
</div>

---

## ğŸ“š **Best Practices**

- Keep functions **small and single-purpose**.
- Use **managed identity** for secure access to resources (no secrets).
- Handle **cold starts** â†’ use Premium Plan for latency-sensitive apps.
- Log with **Application Insights**.
- Use **Durable Functions** for workflows/orchestrations.
