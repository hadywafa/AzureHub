# ğŸ—‘ï¸ Azure Pipeline Retention Policy â€” What It Covers

## ğŸ”¹ 1. Pipeline Runs

- Retention policy controls **how long pipeline runs are kept**.
- A run = logs, timeline, metadata.
- If the run expires, the history vanishes.

---

## ğŸ”¹ 2. Pipeline Artifacts

- **YES** â†’ Retention applies.
- Artifacts (those you published with `PublishPipelineArtifact` or `PublishBuildArtifacts`) are tied to the **runâ€™s lifetime**.
- When a pipeline run expires, its artifacts are also deleted from Azure DevOps storage.
- This avoids storage bloat.

ğŸ‘‰ So, if retention is set to 30 days â†’ build artifacts vanish with the run after 30 days.

---

## ğŸ”¹ 3. Pipeline Caching

- **NO** â†’ Retention policy does **not** control cache.
- Cache has its **own lifecycle rules**:

  - Evicted automatically by Azure DevOps when unused or when storage pressure occurs.
  - TTL (time-to-live) is usually **7 days to 30 days**, depending on service health.
  - You **cannot control cache retention** directly.

ğŸ‘‰ Cache is a **best-effort performance boost**, not a long-term store.

---

## ğŸ”¹ 4. Azure Artifacts (package feeds)

- **Separate retention policies** apply.
- Managed under **Azure Artifacts feed settings**, not pipeline retention.
- You can configure:

  - Keep last N versions.
  - Unlist/delete old versions automatically.

---

## âš–ï¸ Summary Table

| Item                   | Controlled by **Pipeline Retention Policy**? | Notes                                                   |
| ---------------------- | -------------------------------------------- | ------------------------------------------------------- |
| **Pipeline Run Logs**  | âœ… Yes                                       | Run history deleted after N days.                       |
| **Pipeline Artifacts** | âœ… Yes                                       | Deleted with run (deliverables tied to build).          |
| **Pipeline Caches**    | âŒ No                                        | Evicted automatically by service (not user-controlled). |
| **Azure Artifacts**    | âŒ No                                        | Managed separately in feed settings.                    |

---

## âœ… TL;DR

- **Pipeline Retention Policy = pipeline run + pipeline artifacts.**
- âŒ Does not affect caching.
- âŒ Does not affect Azure Artifacts (feeds).

ğŸ‘‰ So think: _â€œIf it belongs to a pipeline run (logs, artifacts) â†’ retention wipes it. If itâ€™s external (cache or package feed) â†’ managed differently.â€_
