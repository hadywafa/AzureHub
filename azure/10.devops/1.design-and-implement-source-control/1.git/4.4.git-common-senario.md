# ğŸ”„ Common Git Scenarios & Patterns (with Commands)

## 1ï¸âƒ£ **Starting a New Feature (Feature Branch Workflow)**

ğŸ’¡ Pattern: _â€œDonâ€™t commit to `main` directly. Work in branches â†’ PR â†’ merge.â€_

**Scenario**: Youâ€™re adding a login page.

```bash
# Get the latest code
git checkout main
git pull --rebase origin main

# Create a feature branch
git checkout -b feature/login

# Work on code...
git add login.html login.js
git commit -m "feat: add login page"

# Push branch
git push origin feature/login

# Open PR â†’ Team reviews â†’ Merge into main
```

ğŸ‘‰ This pattern = **Feature Branch Workflow**.
âœ… Clean history, easy PR reviews.
âš¡ Used in **Azure DevOps, GitHub, GitLab** daily.

---

## 2ï¸âƒ£ **Hotfix in Production (Hotfix Workflow)**

ğŸ’¡ Pattern: _â€œFix critical bug NOW, skip sprint.â€_

**Scenario**: Production login is broken.

```bash
# Create hotfix branch from main
git checkout main
git pull origin main
git checkout -b hotfix/fix-login-bug

# Fix code...
git commit -am "fix: handle null password crash"

# Push & PR
git push origin hotfix/fix-login-bug
```

ğŸ‘‰ PR is merged quickly â†’ deployed to prod.
Then cherry-pick fix into `develop` if using GitFlow.

---

## 3ï¸âƒ£ **Syncing Your Branch (Rebase Pattern)**

ğŸ’¡ Pattern: _â€œKeep branch up to date without messy merge commits.â€_

**Scenario**: While you coded, main branch moved ahead.

```bash
git checkout feature/login
git fetch origin
git rebase origin/main
```

ğŸ‘‰ Moves your commits on top of the latest `main`.
âœ… History stays **linear & clean**.

---

## 4ï¸âƒ£ **Squash Commits Before Merge**

ğŸ’¡ Pattern: _â€œTurn messy work into a clean commit.â€_

**Scenario**: You made 10 WIP commits (`fix typo`, `try again`, etc.).

```bash
git checkout feature/login
git rebase -i HEAD~10   # squash into 1 commit
```

ğŸ‘‰ Final PR commit history = clean.
âœ… Makes blame/history easier to read.

---

## 5ï¸âƒ£ **Cherry-Picking a Commit**

ğŸ’¡ Pattern: _â€œBring one commit from another branch without merging all.â€_

**Scenario**: You fixed a bug in `develop` but need it in `main` immediately.

```bash
git checkout main
git pull origin main
git cherry-pick a1b2c3d   # commit hash from develop
```

ğŸ‘‰ Applies just that commit â†’ no full merge needed.

---

## 6ï¸âƒ£ **Undoing a Mistake**

ğŸ’¡ Pattern: _â€œOh no, I broke it â€” how to go back?â€_

- **Unstage a file**:

  ```bash
  git reset file.txt
  ```

- **Discard changes**:

  ```bash
  git restore file.txt
  ```

- **Undo commit (keep changes)**:

  ```bash
  git reset --soft HEAD~1
  ```

- **Undo commit (delete changes)**:

  ```bash
  git reset --hard HEAD~1
  ```

- **Revert commit in shared branch**:

  ```bash
  git revert a1b2c3d
  ```

ğŸ‘‰ `reset` = rewrite history (safe locally).
ğŸ‘‰ `revert` = make new commit that undoes (safe in shared repos).

---

## 7ï¸âƒ£ **Stash Work (Switch Quickly)**

ğŸ’¡ Pattern: _â€œWork in progress â†’ urgent hotfix â†’ stash & return later.â€_

```bash
git stash        # save work
git checkout hotfix/fix-login
... work + commit + push ...
git checkout feature/login
git stash pop    # restore your WIP
```

ğŸ‘‰ Saves partial work without committing junk.

---

## 8ï¸âƒ£ **Release with Tags**

ğŸ’¡ Pattern: _â€œMark production versions with tags.â€_

```bash
git checkout main
git pull origin main
git tag -a v1.0.0 -m "Release version 1.0"
git push origin v1.0.0
```

ğŸ‘‰ Tags = version markers.
âœ… Used by CI/CD pipelines for deployments.

---

## 9ï¸âƒ£ **Debugging a Bug (Git Bisect)**

ğŸ’¡ Pattern: _â€œFind the exact commit that introduced a bug.â€_

```bash
git bisect start
git bisect bad HEAD
git bisect good v1.0

# Git checks out middle commit â†’ you test & mark good/bad
git bisect good
git bisect bad
...
```

ğŸ‘‰ Git pinpoints bad commit â†’ you fix root cause.
âœ… Very useful for regressions.

---

## ğŸ”Ÿ **Collaboration Best Practice (PR Workflow)**

1. Create feature branch â†’ push â†’ PR.
2. Rebase before merging.
3. Squash commits.
4. Tag release after merge.

This is the **GitHub Flow / Azure DevOps Flow** â†’ used in **all modern companies**.

---

## ğŸ“Š Visual Git Flow

```mermaid
gitGraph
   commit id: "Init"
   branch develop
   commit id: "Base"
   branch feature/login
   commit id: "Login UI"
   commit id: "Login API"
   checkout develop
   merge feature/login id: "Merge feature/login"
   branch hotfix/urgent
   commit id: "Fix prod bug"
   checkout develop
   merge hotfix/urgent id: "Merge hotfix"
   checkout main
   merge develop id: "Release"
   tag v1.0.0
```

---

## âœ… TL;DR

- **Daily Workflow** â†’ `feature branch â†’ PR â†’ rebase â†’ merge`.
- **Hotfixes** â†’ small urgent branches, merge + tag.
- **Clean history** â†’ squash & rebase.
- **Safe undo** â†’ revert for shared, reset for local.
- **Stash** â†’ pause & resume work.
- **Tags** â†’ mark production releases.
- **Bisect** â†’ debugging regressions.
