# 🪞 Git `--mirror` vs `--bare`

## 📌 1. Normal Repository (default `git init`)

When you run:

```bash
git init my-app
```

You get:

- A **working directory** (`.cs`, `.js`, etc.)
- A hidden `.git/` folder with history

👉 You can edit code + commit.
This is what you normally use.

---

## 📌 2. `--bare` Repository

```bash
git init --bare my-app.git
```

- Creates a repo with **only Git history** (no working directory).
- You **can’t edit code here** — only push/pull.
- Usually ends with `.git` and acts like a **central server repo**.

👉 Example:

1. On server:

   ```bash
   mkdir /srv/git
   cd /srv/git
   git init --bare my-app.git
   ```

2. On developer machine:

   ```bash
   git clone user@server:/srv/git/my-app.git
   ```

   Now devs clone → push → pull.
   **Bare repos = collaboration hubs.**

---

## 📌 3. `--mirror` Clone

```bash
git clone --mirror https://github.com/org/my-app.git
```

- A **special clone** that copies:

  - All branches
  - All tags
  - All refs (even remotes, notes, etc.)

- Unlike normal `git clone`, it doesn’t just grab `main` + HEAD.

👉 Use case: **full migration/backup** of a repo.

### Example: Migrating GitHub → Azure DevOps

```bash
# Clone everything (full mirror)
git clone --mirror https://github.com/org/my-app.git

cd my-app.git

# Push everything to new DevOps repo
git push --mirror https://dev.azure.com/myorg/_git/my-app
```

✅ All branches/tags/history preserved exactly.
⚠️ Without `--mirror`, you might miss refs/branches.

---

## 📊 Comparison Table

| Type       | Has Working Directory? | Use Case                   | Example                      |
| ---------- | ---------------------- | -------------------------- | ---------------------------- |
| **Normal** | ✅ Yes                 | Local dev work             | `git init my-app`            |
| **Bare**   | ❌ No                  | Central repo for push/pull | `git init --bare my-app.git` |
| **Mirror** | ❌ No                  | Full backup/migration      | `git clone --mirror <url>`   |

---

## 📌 4. Real-World Scenarios

- **`--bare`** →
  Company sets up **shared repo** on a server. All devs push/pull here.

- **`--mirror`** →
  You want to **migrate from GitHub → Azure DevOps** without losing branches/tags.

---

## ✅ TL;DR

- `--bare` = repo with no working files → central repo for team.
- `--mirror` = special clone for **complete migration/backup**.
- For **day-to-day dev** → use normal repo.
- For **server hosting** → use bare.
- For **moving everything** → use mirror.
