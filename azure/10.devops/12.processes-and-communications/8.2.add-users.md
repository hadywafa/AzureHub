# 👤 **Adding Users to Azure DevOps**

## ➕ **Adding Entra ID Users**

1. Go to **Organization Settings → Users**.
2. Click **Add Users**.
3. Enter email, choose **Access Level**, assign to **Project(s)**.

## 🔍 **Adding External Users**

When you go to **Organization Settings → Users → Add User** and type an email like:

- `bob@othercompany.com` (not in your Entra ID tenant)
- or even `alice@gmail.com`

👉 Azure DevOps says: “I don’t know this person in my tenant. Let’s handle them as an **external guest**.”

---

## 🛠️ **What Happens Behind the Scenes**

### Step 1: Invitation

- Azure DevOps sends an **invitation email** to that address.
- The invite contains a link to **accept the org invitation**.

### Step 2: Guest Creation in Entra ID

- When the person accepts, Azure creates a **Guest User** in your **Entra ID tenant**.
- You’ll see them in Entra ID as:

  - **User type:** _Guest_
  - **Source:** _External Azure Active Directory / Microsoft Account_

### Step 3: DevOps Membership

- Now that they exist in your Entra ID as a guest, Azure DevOps can attach them as a **User** in your DevOps org.
- You assign:

  - **Access Level (license)** → e.g. Stakeholder or Basic.
  - **Security Group (permissions)** → e.g. Reader, Contributor.

---

## 🧩 **Example Scenarios**

### 📌 Case 1: Corporate External (othercompany.com)

- They log in with their own **work Entra ID account**.
- Your tenant recognizes them as a **Guest**.
- They use **SSO from their company’s Entra ID**, no new password needed.

### 📌 Case 2: Personal Email (Gmail, Outlook.com)

- They log in with their **Microsoft Account** (MSA).
- Entra ID creates a Guest entry for that MSA.
- They authenticate via their personal Microsoft login.

### 📌 Case 3: Non-Microsoft Email (Yahoo, custom domain)

- They’ll need to create a **Microsoft Account** behind that email to log in.
- Once that’s done, it works the same as Case 2.

---

## 🚨 **Important Limitations & Notes**

- **Billing**: Guest users still consume a license (Basic, Stakeholder, etc.).
- **Permissions**: You control them like any internal user (via Access Level + Security Groups).
- **Conditional Access Policies**: Your org’s security policies (like MFA) will apply to these external guests too.
- **Removal**: Removing them from DevOps doesn’t always remove them from Entra ID guest list—you may need to clean that up separately.

---

## ⚡ **Quick Analogy**

- You run a **private club** (Azure DevOps org).
- Members are from your **city (Entra ID tenant)**.
- If someone from **another city** wants in, you first register them as a **guest in your city hall records (Entra ID Guest)**.
- Then, you give them a **club membership card (DevOps User)** with a license and permissions.

---

## 🏁 **Summary**

When you enter an email not in your Entra ID tenant → Azure DevOps will invite them → they’ll be added as a **Guest User in Entra ID** → then assigned as a **User in your DevOps Organization** once they accept.
