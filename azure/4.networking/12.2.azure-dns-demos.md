# üõ† Azure DNS Demos

Azure DNS offers two main flavors: **Public DNS Zones** (internet-facing) and **Private DNS Zones** (internal resolution inside VNets).
Let‚Äôs go through **hands-on demos** for both.

---

## üåç Public DNS Zones Demo

### **Step-by-Step Guide**

#### **1Ô∏è‚É£ Sign in to the Azure Portal**

1. Open [Azure Portal](https://portal.azure.com/).
2. Sign in with your Azure credentials.

---

#### **2Ô∏è‚É£ Create a Public DNS Zone**

1. **Create a resource** ‚Üí search **DNS Zone**.
2. Click **Create**.
3. **Fill in details:**

   - **Subscription:** Choose the target subscription.
   - **Resource Group:** Select existing or create new (e.g., `RG-DNS-Public`).
   - **Name:** `contoso.com`
   - **Region:** Any (Azure DNS is globally distributed).

4. **Review + Create** ‚Üí **Create**.

---

#### **3Ô∏è‚É£ Add DNS Records**

1. Open the **DNS zone** ‚Üí **Record sets** ‚Üí **+ Record set**.
2. Fill in details per record type.

üìä **Example: Public Records Table**

| Record Type | Name | Value / Target                                    | TTL (sec) | Purpose            |
| ----------- | ---- | ------------------------------------------------- | --------- | ------------------ |
| **A**       | www  | 203.0.113.1                                       | 3600      | Website IP         |
| **CNAME**   | shop | shops.example.com                                 | 3600      | Alias to subdomain |
| **MX**      | @    | mail.contoso.com (10)                             | 3600      | Email routing      |
| **TXT**     | @    | "v=spf1 include\:spf.protection.outlook.com -all" | 3600      | Email SPF policy   |

---

#### **4Ô∏è‚É£ Test Resolution**

```bash
nslookup www.contoso.com
```

---

üí° **Tip:** Public DNS changes may take time to propagate due to **TTL** and registrar updates.

---

## üè† Private DNS Zones Demo

### **Step-by-Step Guide**

#### **1Ô∏è‚É£ Sign in to the Azure Portal**

- Same as Public DNS.

---

#### **2Ô∏è‚É£ Create a Private DNS Zone**

1. **Create a resource** ‚Üí search **Private DNS Zone**.
2. Click **Create**.
3. **Fill in details:**

   - **Subscription:** Choose subscription.
   - **Resource Group:** `RG-DNS-Private`
   - **Name:** `internal.contoso.com`

4. **Review + Create** ‚Üí **Create**.

---

#### **3Ô∏è‚É£ Link to a Virtual Network**

1. In the Private DNS Zone ‚Üí **Virtual network links** ‚Üí **+ Add**.
2. **Details:**

   - **Link Name:** `ProdVNetLink`
   - **Virtual Network:** `VNet-Production`
   - **Auto Registration:** ‚úÖ Enabled (optional)

3. **Add**.

---

#### **4Ô∏è‚É£ Add DNS Records**

üìä **Example: Private Records Table**

| Record Type | Name | Value / Target            | TTL (sec) | Purpose               |
| ----------- | ---- | ------------------------- | --------- | --------------------- |
| **A**       | web  | 10.0.0.4                  | 3600      | Internal web server   |
| **A**       | db   | 10.0.0.10                 | 3600      | Internal DB server    |
| **MX**      | @    | mail.internal.contoso.com | 3600      | Internal mail routing |

---

#### **5Ô∏è‚É£ Test from VM inside VNet**

```bash
ping web.internal.contoso.com
```

If Auto Registration is enabled, newly created VMs will **auto-add A records** for their hostname ‚Üí IP mapping.

---

## üîÑ Public vs Private DNS Demo Summary

| Feature        | Public DNS Zone             | Private DNS Zone                      |
| -------------- | --------------------------- | ------------------------------------- |
| **Access**     | Internet-wide               | Linked VNets only                     |
| **Common Use** | Websites, SaaS              | Internal apps, DBs, Private Endpoints |
| **Auto Reg.**  | ‚ùå No                       | ‚úÖ Yes (optional)                     |
| **Pricing**    | Per zone + queries          | Per zone + queries                    |
| **AWS Equal**  | Route 53 Public Hosted Zone | Route 53 Private Hosted Zone          |

---

## üìå Best Practices

- **Public:** Protect updates with Azure RBAC and DNSSEC.
- **Private:** Enable Auto Registration for dynamic workloads.
- Link multiple VNets if using **hub-spoke** topology.
- Use **Azure Private Resolver** for hybrid setups with on-prem DNS.
