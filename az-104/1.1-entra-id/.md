Great question — and yes, that weird-looking name actually makes total sense *once you understand how Azure Entra ID (formerly Azure AD) handles external identities and tenant isolation*. Let's break it down like a detective 👀:

---

## 🕵️‍♂️ Why Do You See This Strange User Format?

> **UPN:** `HadyWafa_outlook.com#EXT#@HadyWafaoutlook.onmicrosoft.com`

This user format means:

> **You ([hadywafa@outlook.com](mailto:hadywafa@outlook.com))** were added to a tenant (in this case, `HadyWafaoutlook.onmicrosoft.com`) as an **external user**, also known as a **B2B Guest**.

---

## 🧠 Understanding the Components

| Section                            | Meaning                                                                                                   |
| ---------------------------------- | --------------------------------------------------------------------------------------------------------- |
| `HadyWafa_outlook.com`             | Your original email **[hadywafa@outlook.com](mailto:hadywafa@outlook.com)**, but with `@` replaced by `_` |
| `#EXT#`                            | Short for **External** — this is a Guest user                                                             |
| `@HadyWafaoutlook.onmicrosoft.com` | This is the **Entra ID tenant** where this guest user exists                                              |

---

## 📦 So... What Really Happened?

When you signed in using `hadywafa@outlook.com` (a **Microsoft Account**, not a Work/School account), Azure had to:

1. 🔐 Wrap your Microsoft identity inside the tenant (`HadyWafaoutlook.onmicrosoft.com`)
2. 👤 Create a **local representation** of your account so that you can have roles, access, and permissions in that tenant
3. 🛡️ Tag it with `#EXT#` to indicate this is an **external identity**

🎁 Result? You appear as:

```plaintext
HadyWafa_outlook.com#EXT#@HadyWafaoutlook.onmicrosoft.com
```

---

## 🤔 Why Didn't It Just Use My Clean Email?

Because Azure Entra ID **doesn’t own or control** your `@outlook.com` identity inside this new tenant. It must:

* Respect tenant **isolation**
* Track external identities securely
* Avoid conflict with internal users (like `hady@company.com`)

This format avoids email collisions and enables cross-tenant collaboration.

---

## 🛠️ Real-Life Example

You create a new tenant for lab testing (say: `MyLab.onmicrosoft.com`) using `john.doe@gmail.com`. Azure Entra creates a user like:

```plaintext
john.doe_gmail.com#EXT#@MyLab.onmicrosoft.com
```

This **guest user** is:

* Automatically made the **Global Administrator**
* Used to sign into the Azure portal
* Required to manage Entra ID, create resources, etc.

---

## 🪪 How It Shows in Entra Portal

Go to `entra.microsoft.com > Users`:

* You’ll see:

  * `Display Name: Hady Wafa`
  * `User Type: Guest`
  * `User Principal Name: HadyWafa_outlook.com#EXT#@HadyWafaoutlook.onmicrosoft.com`

---

## 💡 Can I Fix or Clean This Up?

If you want a **cleaner setup**, you have two options:

### ✅ Option 1: Create a Work Account

* Use an account like: `admin@yourcustomdomain.com`
* This will show as: `admin@yourcustomdomain.com` — no `#EXT#`
* Ideal for production, teams, organizations

### ✅ Option 2: Add a Custom Domain to Your Tenant

* Go to `Microsoft Entra ID > Custom domain names`
* Add something like: `hadycorp.com`
* Create users under that clean domain

---

## 📌 Summary

| Concept                     | Explanation                                  |
| --------------------------- | -------------------------------------------- |
| `#EXT#`                     | External (guest) user                        |
| `_` instead of `@`          | Avoids issues in usernames                   |
| You created tenant with MSA | So Azure wrapped your personal ID as a guest |
| You are still Global Admin  | Even though it looks like a guest user       |

---

If you like, I can show you **how to create a permanent user with clean domain name** inside your tenant or make a chart comparing Guest vs Member vs External.

Let me know if you want to keep going deeper on identity! 🧩
