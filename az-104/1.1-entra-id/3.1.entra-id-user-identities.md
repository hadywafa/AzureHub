# ğŸ§‘â€ğŸ’¼ Microsoft Entra ID â€“ User Identities Explained

<div align="center">
  <img src="images/user-identities-1.png" alt="User Identity Types" style="width: 80%; border-radius: 10px;">
</div>

<div align="center">
  <img src="images/user-identities-2.png" alt="User Identity Flows" style="width: 80%; border-radius: 10px;">
</div>

---

## ğŸŒ Identity Types in Entra ID

Microsoft Entra ID supports multiple types of user identities to support both **internal teams** and **external collaborators**, whether theyâ€™re employees, partners, freelancers, or Gmail users who never want to make a Microsoft account.

---

<div align="center">
  <img src="images/ex-user-identities.png" alt="External User Access Flow" style="width: 90%; border-radius: 10px;">
</div>

---

### 1. ğŸ” **Member Users - `<TENANT_NAME>`**

These are your **homegrown heroes**â€”your employees or service accounts created **within your tenant**.

- **Identifiers**:

  - `brigit@issi.net` (custom domain)
  - `alex@infinitesoftware.onmicrosoft.com` (default domain)

- **Created via**: Azure Portal, Microsoft 365, Entra Admin, Azure AD Connect sync
- **Full Control**: You assign roles, licenses, and access

âœ… **Use Cases**:

- Employees accessing Teams, Office 365, internal apps
- DevOps team managing Azure resources

---

### 2. ğŸŒ **Guests Users - `ExternalAzureAD`**

These folks already have **a Microsoft Entra ID elsewhere** (maybe they work at `buses.org`)â€”but you want them to collaborate inside your tenant securely.

- **UPN Format**:

  - `brome_buses.org#EXT#@infinitesoftware.onmicrosoft.com`

- **Login With**:

  - Their **original account** â†’ `brome@buses.org`

ğŸ§  This is called **B2B Collaboration** (Azure AD B2B).

âœ… **Use Cases**:

- Consultant from another company accessing your SharePoint
- Guest speaker added to your Teams meeting with document access

---

### 3. ğŸ“§ **Guests Users - `MicrosoftAccount`**

These are **personal Microsoft accounts** (like Outlook or Hotmail) used for guest access.

- **UPN Format**:

  - `brigit.hassan_gmail.com#EXT#@issi.net`

- **Login With**:

  - Their Microsoft personal account (e.g. `brigit.hassan@gmail.com`)

ğŸ§  Microsoft automatically converts non-Microsoft emails into MSAs when users register.

âœ… **Use Cases**:

- Freelancer using Hotmail for quick access
- Blogger joining your web app feedback group

---

### 4. âœ‰ï¸ **Guests Users - `Mail`**

No Microsoft account? No problem. Entra ID now lets you invite **any email user**, and they log in using a **one-time passcode (OTP)**.

- **UPN Format**:

  - `hadywafa97_gmail.com#EXT#@yourtenant.onmicrosoft.com`

- **Login With**:

  - `hadywafa97@gmail.com` + OTP emailed each time

ğŸ§  Perfect for **lightweight collaboration** without account creation.

âœ… **Use Cases**:

- External vendors using Gmail/Yahoo
- Volunteers or event partners with temporary access

---

## ğŸ”„ Comparison Summary

| Identity Type        | Login From              | Example UPN                                            | Account Required | Best For                               |
| -------------------- | ----------------------- | ------------------------------------------------------ | ---------------- | -------------------------------------- |
| Internal User        | Entra ID (tenant-owned) | `brigit@issi.net`                                      | Yes              | Employees, service accounts            |
| Azure AD Guest (B2B) | Another Entra ID tenant | `brome_buses.org#EXT#@yourtenant.onmicrosoft.com`      | Yes              | Partners from other orgs               |
| Microsoft Account    | Personal MSA            | `brigit.hassan_gmail.com#EXT#@issi.net`                | Yes              | Freelancers with MSA                   |
| Just Email (OTP)     | Any email (Gmail, etc.) | `hadywafa97_gmail.com#EXT#@yourtenant.onmicrosoft.com` | No               | External users without Microsoft login |

---

## ğŸ§‘â€ğŸ”§ User Lifecycle Management in Entra ID

Managing users in Entra ID isnâ€™t just about creating them â€” you also need to **update**, **retire**, and **secure** them. Hereâ€™s how:

---

### â• **Create Users**

1. **Manually (Admins)**:

   - Via Entra Portal or M365 Admin Center

2. **Bulk Import**:

   - Upload a CSV or script with PowerShell

3. **Auto-Provisioning**:

   - Sync from HR systems (SAP, Workday) or on-prem AD with **Azure AD Connect**

---

### âœï¸ **Update Users**

- Update job title, department, contact info
- Modify role assignments (e.g., Reader â†’ Contributor)
- Change authentication methods (enable MFA, FIDO2, etc.)
- Add/remove group memberships (e.g., `HR-Team`)

---

### ğŸ—‘ï¸ **Delete Users**

- **Soft Delete**:

  - Moved to recycle bin for 30 days (you can restore them!)

- **Hard Delete**:

  - After 30 days, user is purged permanently

- **Best Practices**:

  - Reassign owned resources
  - Reclaim and reuse licenses

---

## ğŸ§  Pro Tips & Best Practices

| ğŸ’¡Tip                              | Why It Matters                                  |
| ---------------------------------- | ----------------------------------------------- |
| Use **custom domains** for clarity | Avoid confusing default `.onmicrosoft.com` UPNs |
| Review guest users regularly       | Avoid stale accounts with lingering access      |
| Prefer **passwordless + MFA**      | Improves security & user experience             |
| Use **groups for RBAC**            | Easier to manage than per-user role assignments |

---

## ğŸ“Œ Final Thoughts

Microsoft Entra ID supports **all types of humans and machines**â€”from internal employees to Gmail-using freelancers. Understanding their identity type helps you:

- Apply the right **roles**
- Enforce proper **security**
- Enable smooth **collaboration** (without overprovisioning)

> ğŸ” Whether itâ€™s an employee with full admin rights or a guest just peeking into a shared Excel fileâ€”Entra IDâ€™s got them covered.
