# ğŸ“‹ Review Mode Set 2

## â‰ï¸ Q3

<div align="left">
  <img src="image/2.review-mode-set2/1759498515945.png" alt="1759498515945" style="width: 100%; border-radius: 10px; border: 2px solid white;">
</div>

---

> ğŸ‘‰ğŸ» **Explanation**
>
> **âœ… The Answer:**
>
> - **Create and publish a product via Azure Portal/CLI.**
>
> ---
>
> **ğŸ“– Explanation:**  
> In **Azure API Management (APIM)**, the best way to enforce subscription workflows, approvals, and central policies is through **Products**.
>
> - A **Product** groups one or more APIs and applies **terms of use, subscription requirements, and approval workflows**.
> - Admins can configure:
>
>   - **Subscription approval** (manual or automatic).
>   - **Terms of use acceptance** (users must agree before subscribing).
>   - **One subscription per API or product per user**.
>   - **API key authentication** (automatically issued to subscribers).
>
> - Centralized subscription management ensures that all APIs share consistent security and usage rules.
> - While Key Vault is excellent for secret storage, APIM already **integrates subscription key handling natively** â€” you donâ€™t need to bolt on Azure Artifacts or Key Vault for this scenario.
>
> ---
>
> **ğŸ¤” Why This Is the Best Answer:**
> Because the requirements explicitly describe **APIM subscription/product features** (terms of use, approval, per-user subscription limits, API key enforcement). These map directly to **APIM Product functionality** â€” not Key Vault, not versioning, and not self-hosted gateways.
>
> ---
>
> **âŒ Why Other Options Are Wrong:**
>
> - **Manage keys in Azure Key Vault, add Azure Artifacts Credential Providerâ€¦**
>
>   - Wrong because Key Vault stores secrets, but it doesnâ€™t enforce **APIM subscription policies** like approval, terms of use, or per-user limits. Azure Artifacts is unrelated here.
>
> - **Implement version control by applying headersâ€¦**
>
>   - This only manages **API versions**, not subscriptions, policies, or key management. Irrelevant to the scenario.
>
> - **Deploy a self-hosted gateway and configure access policies manuallyâ€¦**
>
>   - Self-hosted gateways extend APIM to private/hybrid environments, but they donâ€™t provide the **central subscription approval, terms of use, or per-user restrictions** needed. This adds complexity without solving the problem.
>
> ---
>
> **ğŸ“š References:**
>
> - [Azure API Management â€“ Products](https://learn.microsoft.com/en-us/azure/api-management/api-management-howto-add-products)
> - [Azure API Management subscriptions and keys](https://learn.microsoft.com/en-us/azure/api-management/api-management-subscriptions)

---

## â‰ï¸ Q6

<div align="left">
  <img src="image/2.review-mode-set2/1759500857948.png" alt="1759500857948" style="width: 100%; border-radius: 10px; border: 2px solid white;">
</div>

---

> ğŸ‘‰ğŸ» **Explanation**
>
> ğŸ“Œ Question Breakdown
>
> - Youâ€™re using **Service Bus queues** for order messages.
> - You want **Event Grid notifications** when new messages arrive.
> - Processing is done by **Azure Functions + Logic Apps**.
> - Requirements:
>
>   1. **Emit events only when messages exist & no active receivers** (âœ… Event Grid does this).
>   2. **Minimize cost** (Standard tier is cheaper than Premium).
>   3. **Least privilege** (donâ€™t assign overly broad roles like Contributor).
>
> ---
>
> âœ… Correct Answers
>
> - Service Bus Tier â†’ Premium
> - Permissions â†’ Contributor
>
> ---
>
> **ğŸ¤” Why This Is the Best Answer:**
>
> 1. **Tier (Standard vs Premium)**
>
>    - **Fact:**
>
>      - Event Grid **integration with Service Bus events** (like `ActiveMessagesAvailableWithNoListeners`) is **NOT available in Basic or Standard**.
>      - Those advanced system events are **only supported in Premium tier**.
>
>    â¡ï¸ So your source is correct here:  
>    ğŸ‘‰ **Premium is required**, not Standard.
>
> 2. **Role (Data Receiver vs Contributor)**
>
>    - **Azure Service Bus Data Receiver**
>
>      - Allows apps to **read messages** from queues/subscriptions.
>      - Does **not allow configuring Event Grid subscriptions**.
>
>    - **Contributor**
>
>      - Has permission to **create/update/manage resources**, including **wiring up Event Grid subscriptions on Service Bus**.
>      - This is required in the scenario because you need to configure Event Grid integration.
>
>    â¡ï¸ So again your source is correct here:  
>    ğŸ‘‰ **Contributor** is required to set up Event Grid integration.
>
> ---
>
> **ğŸ“š References:**
>
> - <https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-messaging-overview>
> - <https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-to-event-grid-integration-concept?tabs=event-grid-event-schema>

---

## â‰ï¸ Q8

<div align="left">
  <img src="image/2.review-mode-set2/1759503362883.png" alt="1759503362883" style="width: 100%; border-radius: 10px; border: 2px solid white;">
</div>

---

> ğŸ‘‰ğŸ» **Explanation**
>
> ğŸ“Œ Question Breakdown
>
> You need a subscription (`ShipmentStatusSub`) on a topic (`ShipmentEventsTopic`) that:
>
> 1. Filters shipment messages by **system properties** like `Label` or `MessageId`.
> 2. Annotates filtered messages (changes metadata, not body) before downstream systems consume them.
> 3. Keeps the **original body unchanged** (so only metadata can be altered).
>
> ---
>
> ğŸŸ¢ Step 1 â€“ Choosing the Filter
>
> - **Correlation Filter**
>
>   - Used for **equality matches** on system properties (like `Label`, `MessageId`, `CorrelationId`).
>   - Lightweight and best when you know the property name + value you want to match.
>
> - **SQL Filter**
>
>   - Used for **more complex conditions** (SQL-like syntax: `<`, `>`, `LIKE`, multiple properties).
>
> â¡ï¸ Since the question explicitly says **system properties like `Label` or `MessageId`**, the best choice is:  
> âœ… **Correlation filter**
>
> ---
>
> ğŸŸ¢ Step 2 â€“ Choosing the Action
>
> - **Route to another topic**
>
>   - Just sends the message elsewhere, doesnâ€™t annotate metadata. âŒ
>
> - **Annotate with metadata (add/remove/replace properties)**
>
>   - Allows you to **add custom metadata properties** or modify system/application properties, while leaving the **body unchanged**.
>   - Exactly what the scenario requires for downstream Event Grid alerts.
>
> â¡ï¸ The right choice is:  
> âœ… **Annotate the message metadata by adding, removing, or replacing properties and their values**
>
> ---
>
> âœ… Final Answer
>
> - **Filter** â†’ Correlation filters
> - **Action** â†’ Annotate the message metadata by adding, removing, or replacing properties

---

## â‰ï¸ Q9

<div align="left">
  <img src="image/2.review-mode-set2/1759506552783.png" alt="1759506552783" style="width: 100%; border-radius: 10px; border: 2px solid white;">
</div>

---

> ğŸ‘‰ğŸ» **Explanation**
>
> â“ **Question Summary:**
>
> Youâ€™re hosting a static site in **Azure Blob Storage**. Requirements are:
>
> 1. Accessible via a **custom domain name**.
> 2. Add **custom headers** to all HTTP responses.
> 3. Support **HTTPS with a custom SSL certificate**.
>
> ---
>
> âœ… **Correct Answers:** (All: Azure CDN)
>
> - **Custom domain name** â†’ âœ… Azure Content Delivery Network (CDN)
> - **Custom headers in HTTP responses** â†’ âœ… Azure Content Delivery Network (CDN)
> - **Custom SSL certificate** â†’ âœ… Azure Content Delivery Network (CDN)
>
> ---
>
> ğŸ“– **Explanation:**
>
> Azure Blob Storage static websites **by themselves**:
>
> - Support only HTTPS with the `*.blob.core.windows.net` domain.
> - Do **not** support direct custom domains + SSL unless integrated with **Azure CDN** or **Front Door**.
> - Do **not** support injecting **custom headers** in HTTP responses.
>
> By fronting the storage account with **Azure CDN**, you unlock:
>
> - âœ… **Custom domains** (CNAME mapping to the CDN endpoint).
> - âœ… **Custom headers** injection through CDN rules engine.
> - âœ… **Custom SSL certificates** (bring-your-own cert or use Azure-managed certs).
>
> ---
>
> ğŸ¤” **Why This Is the Best Answer:**
>
> - **Azure CDN** provides all three capabilities in a single solution: custom domain mapping, HTTPS with SSL, and header rewriting.
> - **Front Door** also supports these, but in the exam context, the more common match with **Blob Storage static site hosting** is **Azure CDN** (especially when talking about adding headers in responses).
>
> ---
>
> âŒ **Why Other Options Are Wrong:**
>
> - **Azure DNS** â†’ Only resolves domains, does not handle SSL or headers.
> - **Azure Front Door** â†’ Could work (supports custom domain, SSL, headers), but here the expected exam answer is **Azure CDN**, which integrates seamlessly with static websites in storage.
> - **Blob Storage alone** â†’ Canâ€™t inject headers, canâ€™t serve custom SSL on custom domains.
>
> ---
>
> ğŸ“š **References:**
>
> - [Azure Storage static website hosting](https://learn.microsoft.com/en-us/azure/storage/blobs/storage-blob-static-website)
> - [Azure CDN rules engine (headers, redirects, caching)](https://learn.microsoft.com/en-us/azure/cdn/cdn-rules-engine)
> - [Azure CDN custom domain & SSL](https://learn.microsoft.com/en-us/azure/cdn/cdn-custom-ssl)

---

## â‰ï¸ Q13

<div align="left">
  <img src="image/2.review-mode-set2/1759510521586.png" alt="1759510521586" style="width: 100%; border-radius: 10px; border: 2px solid white;">
</div>

---

> ğŸ‘‰ğŸ» **Explanation**
>
> - The Consumption hosting plan best fits event-driven workloads like a timer trigger. It automatically scales to accommodate the demand and charges based on the execution time, making it the most cost-efficient for your timer-triggered function. This hosting plan is ideal for executing functions based on the TimeSpan interval.
> - The host.json file is used to configure the timer trigger in Azure Functions. This file allows you to set the TimeSpan that dictates the functionâ€™s execution schedule. You would specify the schedule in a cron-like expression inside the host.json file, making it the most appropriate method to configure the timer-triggered schedule.
>
> <div align="left">
>   <img src="image/2.review-mode-set2/1759510581593.png" alt="1759510581593" style="width: 100%; border-radius: 10px; border: 2px solid white;margin: 0 30px">
> </div>

---

## â‰ï¸ Q19

<div align="left">
  <img src="image/2.review-mode-set2/1759513947485.png" alt="1759513947485" style="width: 100%; border-radius: 10px; border: 2px solid white;">
</div>

---

> ğŸ‘‰ğŸ» **Explanation**
>
> **â“ Question Recap**
>
> Youâ€™re running **Azure Container Apps** and need:
>
> 1. **Monitor real-time log streams** from containers.
> 2. **Troubleshoot inside a container** interactively.
>
> ---
>
> **âœ… Correct Features**
>
> - **Monitor real-time log streams** â†’ **Log Streaming**
> - **Troubleshoot inside a container** â†’ **Container Console**
>
> ---
>
> **ğŸ“– Why?**
>
> **ğŸ”¹ Log Streaming**
>
> - Shows **stdout** and **stderr** logs in real-time.
> - Useful during **deployments, debugging, and performance testing**.
> - Eliminates delays (you donâ€™t wait for logs to be exported into Log Analytics or Storage).
> - Think of it as: `tail -f` for your container logs.
>
> ---
>
> **ğŸ”¹ Container Console**
>
> - Provides an **interactive shell** into the running container.
> - Lets you:
>
>   - Run commands
>   - Inspect environment variables
>   - Check file system/network
>   - Debug microservices directly in runtime context
>
> - This is the â€œlive troubleshooting modeâ€ you use when logs arenâ€™t enough.
>
> ---
>
> âŒ Why Not Other Options?
>
> - **Application Logging** â†’ General logging mechanism; not real-time, not interactive.
> - **Azure Monitor Alerts** â†’ Only alerts when thresholds are hit; no real-time or shell access.
> - **Log Analytics** â†’ Great for querying historic logs, but not live streaming or interactive debugging.

---

## â‰ï¸ Q23

<div align="left">
  <img src="image/2.review-mode-set2/1759532420443.png" alt="1759532420443" style="width: 100%; border-radius: 10px; border: 2px solid white;">
</div>

---

> ğŸ‘‰ğŸ» **Explanation**
>
> **â“ Question Recap:**
>
> - During a **maintenance window**, you know backup jobs will fail.
> - You **donâ€™t want alerts to trigger notifications** (emails, SMS, webhooks) during this period.
> - BUT â— you still want the **alerts to be logged** for later review.
>
> ---
>
> **âœ… Correct Answer**
>
> - **Create an alert processing rule to suppress notifications during the maintenance window.**
>
> ---
>
> **ğŸ“– Why?**
>
> ğŸ”¹ **Alert Processing Rules** let you **suppress notifications** (emails, SMS, ITSM, etc.) during scheduled periods (like maintenance).
>
> - The alert is still **fired and logged** in Azure Monitor.
> - Only the **notification action is suppressed**.
> - Perfect fit for this scenario.
>
> ---
>
> **âŒ Why Other Options Are Wrong:**
>
> - **Disable the alert rules covering the maintenance period**
>
>   - âŒ Alerts wonâ€™t even fire, so nothing is logged â†’ you lose visibility.
>
> - **Use Azure Monitor Service Health Alerts**
>
>   - âŒ Service Health alerts are for **Azure platform issues** (like region outage, VM host maintenance), not your app/service alerts.
>
> - **Set up a custom webhook to discard all alert notifications**
>
>   - âŒ Youâ€™d lose control and visibility, and itâ€™s not the right way to handle planned suppression.
>
> ---
>
> **ğŸ“ Key Exam Tip:**
>
> - **Alert Processing Rule** = Suppress notifications but keep alerts logged.
> - **Disable Alert Rule** = No alerts fired at all.
> - **Service Health Alerts** = Only Azure-wide service events (not your resource alerts).
>
> ---
>
> âœ… So the exam correct answer is:
> **Create an alert processing rule to suppress notifications during the maintenance window.**

---

## â‰ï¸ Q27

<div align="left">
  <img src="image/2.review-mode-set2/1759534636193.png" alt="1759534636193" style="width: 100%; border-radius: 10px; border: 2px solid white;">
</div>

---

> ğŸ‘‰ğŸ» **Explanation**
>
> **ğŸ”‘ Difference Between Fixed and Dynamic Threshold Alerts in Azure Monitor:**
>
> **1. Metric Alert with Fixed Thresholds:**
>
> - You manually configure a threshold (e.g., _alert if response time > 2 seconds_ or _CPU > 80%_).
> - This works well when the **expected performance baseline is stable**.
> - âŒ Problem: In environments with **fluctuating traffic** (like weekends with spikes), fixed thresholds can either:
>
>   - Trigger too many **false positives** (alerts firing even though the system is behaving normally under high load).
>   - Miss real issues if the threshold is set too high.
>
> ---
>
> **2. Metric Alert with Dynamic Thresholds:**
>
> - Uses **machine learning** built into Azure Monitor.
> - The system analyzes historical data and **automatically adjusts the threshold** based on patterns, time of day, day of week, seasonality, etc.
> - Example:
>
>   - On weekdays, normal response time = 200 ms.
>   - On weekends, normal response time = 500 ms (due to load).
>   - Dynamic thresholds will adjust to detect _abnormal behavior compared to baseline_, rather than firing every time the value exceeds a static number.
>
> âœ” This is **ideal when traffic is variable** (like the scenario in your question).
>
> ---
>
> **âœ… Why Dynamic Threshold is Correct Here**
>
> The scenario says:
>
> - â€œOn weekends, the application experiences **fluctuating traffic volumes** â€¦ leading to performance issues.â€
> - That means the traffic/load baseline is not stable â†’ fixed thresholds would cause **noisy alerts**.
> - Dynamic thresholds adapt to these fluctuations and only alert on **true anomalies**.
>
> ğŸ‘‰ Thatâ€™s why the correct answer is:
> **Set up a metric alert with dynamic thresholds.**

---

## â‰ï¸ Q31

<div align="left">
  <img src="image/2.review-mode-set2/1759535623718.png" alt="1759535623718" style="width: 100%; border-radius: 10px; border: 2px solid white;">
</div>

---

> ğŸ‘‰ğŸ» **Explanation**
>
> **âœ… The Answer:**
>
> - **Azure Service Bus**
> - **Azure Event Grid**
>
> ---
>
> **ğŸ¤” Why This Is the Best Answer:**
>
> - The scenario requires a **publish-subscribe (Pub/Sub) communication pattern** where multiple microservices can independently respond to the same event.
> - It also explicitly says: _â€œthe solution must eliminate constant polling by ensuring that subscribers are notified immediatelyâ€_.
>
> Hereâ€™s how the two correct services fit:
>
> 1. **Azure Event Grid**
>
>    - Event-driven, push-based (no polling needed).
>    - Ideal for notifying subscribers immediately when an event happens.
>    - Integrates natively with **Azure Logic Apps**, which is part of the requirement.
>    - Lightweight, scalable, and cost-efficient for routing events.
>
> 2. **Azure Service Bus**
>
>    - Provides **robust enterprise-grade messaging** with features like sessions, ordering, dead-letter queues, transactions, and duplicate detection.
>    - Supports **topics and subscriptions**, which implement the **Pub/Sub pattern** directly.
>    - Ensures reliability when multiple services must consume the same messages independently.
>
> Together:
>
> - **Event Grid** handles immediate event routing to subscribers (Logic Apps, Functions, etc.).
> - **Service Bus** provides strong guarantees and advanced messaging features when multiple microservices need consistent delivery.
>
> ---
>
> **âŒ Why Other Options Are Wrong:**
>
> - **Azure Event Hub**: Designed for **high-throughput telemetry/event streaming** (e.g., IoT or log data ingestion). Itâ€™s not optimized for discrete Pub/Sub microservice communication.
> - **Azure Cache for Redis**: Redis has simple pub/sub but isnâ€™t intended for large-scale system integration, lacks enterprise reliability (no dead-lettering, ordering, etc.), and doesnâ€™t integrate with Logic Apps.
> - **Azure Notification Hubs**: Built for **mobile push notifications** (to iOS/Android devices), not microservice-to-microservice or backend event-driven workflows.

---

## â‰ï¸ Q32

<div align="left">
  <img src="image/2.review-mode-set2/1759536180520.png" alt="1759536180520" style="width: 100%; border-radius: 10px; border: 2px solid white;">
</div>

---

> ğŸ‘‰ğŸ» **Explanation**
>
> **ğŸ“ Question Recap**
>
> - App = Azure Web App secured with **Microsoft Entra ID** (formerly Azure AD).
> - Roles: **admin, normal, reader** â†’ assigned through **Entra ID groups**.
> - Solution: Modify the **application manifest** â†’ set `groupMembershipClaims = "All"`.
> - When user signs in, their **JWT token** will include group IDs.
> - The app can then read those group claims and enforce **role-based access**.
>
> Question: Does this meet the requirement?
>
> ğŸ‘‰ **Correct Answer: Yes** âœ…
>
> ---
>
> **ğŸ” Why is "Yes" correct?**
>
> 1. **`groupMembershipClaims` in Manifest**
>
>    - When you set `groupMembershipClaims` to `"All"`, Entra ID includes the **group IDs** of the user in their **JWT token (ID token or access token)**.
>    - Example claim in JWT:
>
>      ```json
>      "groups": [
>        "3a1f2d34-xxxx-xxxx-xxxx-abcdef123456",  // Admin group
>        "7b2e8f90-xxxx-xxxx-xxxx-abcdef654321"   // Reader group
>      ]
>      ```
>
>    - Your app can check these GUIDs against known group IDs and map users to **admin, normal, reader** roles.
>
> 2. **Meets Fine-Grained Access Control**
>
>    - Access control is based on **group membership** already defined in Entra ID.
>    - The application simply reads the claims and enforces permissions.
>    - âœ… This is exactly the scenario described.
>
> 3. **Common Enterprise Pattern**
>
>    - This approach is widely recommended for **RBAC in applications**.
>    - Instead of storing roles inside the app, you leverage Entra ID groups.
>    - It centralizes role assignment â†’ easier governance.
>
> ---
>
> <div align="left">
>   <img src="image/2.review-mode-set2/1759536238555.png" alt="1759536238555" style="width: 100%; border-radius: 10px; border: 2px solid white;">
> </div>
>
> ---
>
> **âŒ Why "No" is Wrong:**
>
> - Some candidates choose **No** thinking:
>
>   - "Group claims donâ€™t scale well if a user belongs to thousands of groups" (true, in that case, Entra ID uses **Graph API overage claims** instead of embedding all IDs).
>   - But here, we only need **three roles** â†’ group claims easily work.
>
> - The method does meet the requirement, so **No is incorrect**.
>
> ---
>
> **âœ… Alternative Approaches (Exam Tip)**
>
> Besides `groupMembershipClaims`, there are two other ways:
>
> 1. **App Roles**
>
>    - Define roles (`admin`, `normal`, `reader`) in the app manifest â†’ assigned per user/group.
>    - JWT includes `"roles"` claim.
>    - More direct than groups.
>
> 2. **Custom Claims Mapping**
>
>    - Use **Entra ID custom claims mapping policy** to enrich the token with extra claims.
>    - Flexible but overkill here.

---

## â‰ï¸ Q37

<div align="left">
  <img src="image/2.review-mode-set2/1759570222360.png" alt="1759570222360" style="width: 100%; border-radius: 10px; border: 2px solid white;">
</div>

---

> ğŸ‘‰ğŸ» **Explanation**
>
> **ğŸ” What the Question Really Means:**
>
> - Youâ€™re building an app that uses **Microsoft Entra ID (Azure AD)** for login.
> - The app wants to **access user data** (like the signed-in userâ€™s profile, calendar, or emails).
> - The exam says: â€œwe want a consent framework where **the user can decide** whether to give the app permission. We **donâ€™t want the administrator** to have to approve it.â€
>
> So yes âœ… the requirement =
> ğŸ‘‰ The app needs **delegated permissions** that can be approved by the **logged-in user**, not by an **admin**.
>
> ---
>
> **ğŸ’¡ Example:**
>
> Imagine you log into an app with your Microsoft account.
>
> - The app pops up: _â€œThis app wants to read your emails and calendar. Do you allow it?â€_
> - **You** click â€œYesâ€ â†’ thatâ€™s **user consent** for **delegated permissions**.
>
> But if the app wanted access like:
>
> - _â€œThis app wants to read **all emails across your company**.â€_ â†’ thatâ€™s too powerful. It would need **admin consent**.
>
> ---
>
> **âœ… The Answer:**
>
> The correct permissions type here is:
> **Delegated permissions granted exclusively with user consent**
>
> Because:
>
> - The user is logged in.
> - The app acts _on behalf of that user_.
> - The user can approve access themselves.

---

## â‰ï¸ Q3x

<div align="left">
  <img src="image/2.review-mode-set2/xxxxxxxxxxx.png" alt="1759570222360" style="width: 100%; border-radius: 10px; border: 2px solid white;">
</div>

---

> ğŸ‘‰ğŸ» **Explanation**
>