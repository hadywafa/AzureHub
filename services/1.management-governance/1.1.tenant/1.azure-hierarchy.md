# ğŸ—ï¸ Azure Hierarchy

<div align="center">
  <img src="images/azure-hierarchy-1.png" alt="Azure Hierarchy" style="width: 100%; border-radius: 10px;">
</div>

---

## ğŸ“š Table of Contents

1. [ğŸ¢ Tenant (Microsoft Entra ID)](#tenant)
2. [ğŸ‘¤ Azure Account](#account)
3. [ğŸ‘‘ Management Groups](#mg)
4. [ğŸ’³ Subscriptions](#subscription)
5. [ğŸ“ Resource Groups](#rg)
6. [ğŸ› ï¸ Resources](#res)
7. [ğŸ”„ Full Hierarchy Diagram](#diagram)
8. [ğŸ” Access and Governance](#governance)
9. [ğŸ’¡ Best Practices & Tips](#tips)
10. [ğŸ“Œ Summary](#summary)

---

## ğŸ¢ 1. Tenant (Microsoft Entra ID) <a id="tenant"></a>

> ğŸ“˜ **Official Definition:** A tenant is a dedicated and trusted instance of Microsoft Entra ID that represents an organization and manages identities like users, groups, and apps.

### ğŸ§  Think of a tenant as:

- Your **organizationâ€™s identity domain**
- The **authentication and security root**
- The top of the Azure hierarchy

### ğŸ†š AWS Comparison:

| Azure                 | AWS                                                                                     |
| --------------------- | --------------------------------------------------------------------------------------- |
| **Tenant (Entra ID)** | **AWS Organization Root + Directory Service (if using AWS SSO or IAM Identity Center)** |

---

ğŸ§  **Hierarchy Structure**:

```ini
Azure Account
â””â”€â”€ Tenant
    â””â”€â”€ Management Groups
        â””â”€â”€ Subscriptions
            â””â”€â”€ Resource Groups
                â””â”€â”€ Resources
```

---

## ğŸ‘¤ 2. Azure Account <a id="account"></a>

Your **Azure Account** is your **sign-in identity** (Microsoft/Work/School email).
It can access multiple **tenants**, giving you flexibility in large orgs or consulting work.

| âœ… Example                                                                        |
| --------------------------------------------------------------------------------- |
| `alex@company.com` â†’ accesses **Tenant A** (Client 1) and **Tenant B** (Client 2) |

ğŸ§  **Important**: Your account is _not_ the same as a subscription.

---

## ğŸ‘‘ 3. Management Groups <a id="mg"></a>

**Management Groups** let you apply **governance** (policies, role-based access) to many subscriptions at once.

- Up to **6 levels** deep
- Ideal for **departments, regions, or environments**

### ğŸ†š AWS Comparison:

| Azure            | AWS                             |
| ---------------- | ------------------------------- |
| Management Group | Organizational Unit (OU)        |
| Azure Policy     | Service Control Policies (SCPs) |

---

## ğŸ’³ 4. Subscriptions <a id="subscription"></a>

A **Subscription** is a **billing and quota container** for your Azure services.

- You **deploy resources** inside subscriptions
- Each has **isolated billing**, **resource limits**, and **RBAC**

### ğŸ†š AWS Comparison:

| Azure Subscription       | AWS Account                    |
| ------------------------ | ------------------------------ |
| Billing unit             | Billing unit                   |
| Resource quota container | Resource quota container       |
| Isolated for security    | Fully isolated AWS environment |

---

## ğŸ“ 5. Resource Groups <a id="rg"></a>

**Resource Groups** are **logical containers** for related Azure resources.

- Help manage **lifecycle** (create, update, delete)
- Ideal for grouping all parts of a single app

ğŸ§  Deleting a resource group deletes **everything inside** it. Be careful.

### ğŸ†š AWS Comparison:

| Azure Resource Group         | AWS Tags + Resource Groups  |
| ---------------------------- | --------------------------- |
| Native grouping by lifecycle | Manual grouping via tagging |

---

## ğŸ› ï¸ 6. Resources <a id="res"></a>

Resources are the **actual Azure services** like:

| Service         | Example                  |
| --------------- | ------------------------ |
| Virtual Machine | App server               |
| Azure SQL DB    | App database             |
| Blob Storage    | Store unstructured files |
| App Service     | Host your website        |

---

## ğŸ”„ Putting It All Together: Azure Hierarchy <a id='diagram'></a>

```plaintext
Azure Account (e.g., alice@contoso.com)
â”‚
â”œâ”€â”€ Tenant A (Contoso Organization)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ‘‘ Corporate Management Group
â”‚   â”‚   â”œâ”€â”€ ğŸ‘‘ IT Management Group
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ”‘ IT Subscription 1
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ DevOps Resource Group
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ› ï¸ Dev VM
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ› ï¸ Dev SQL Database
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“ ProdOps Resource Group
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ ğŸ› ï¸ Prod VM
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ ğŸ› ï¸ Prod Storage Account
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ”‘ IT Subscription 2
â”‚   â”‚   â”‚       â””â”€â”€ ğŸ“ Network Resource Group
â”‚   â”‚   â”‚           â”œâ”€â”€ ğŸ› ï¸ Virtual Network
â”‚   â”‚   â”‚           â””â”€â”€ ğŸ› ï¸ Firewall
â”‚   â”‚   â””â”€â”€ ğŸ‘‘ Finance Management Group
â”‚   â”‚       â”œâ”€â”€ ğŸ”‘ Finance Subscription 1
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“ Accounting Resource Group
â”‚   â”‚       â”‚       â”œâ”€â”€ ğŸ› ï¸ Accounting App
â”‚   â”‚       â”‚       â””â”€â”€ ğŸ› ï¸ SQL Database
â”‚   â”‚       â””â”€â”€ ğŸ”‘ Finance Subscription 2
â”‚   â”‚           â””â”€â”€ ğŸ“ Reporting Resource Group
â”‚   â”‚               â”œâ”€â”€ ğŸ› ï¸ BI Tools
â”‚   â”‚               â””â”€â”€ ğŸ› ï¸ Data Lake
â”‚   â”‚
â””â”€â”€ Tenant B (Fabrikam Organization)
    â”‚
    â”œâ”€â”€ ğŸ‘‘ HR Management Group
    â”‚   â”œâ”€â”€ ğŸ”‘ HR Subscription 1
    â”‚   â”‚   â”œâ”€â”€ ğŸ“ HR Resource Group
    â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ› ï¸ HR VM
    â”‚   â”‚   â”‚   â””â”€â”€ ğŸ› ï¸ Payroll Database
    â”‚   â”‚   â””â”€â”€ ğŸ“ Training Resource Group
    â”‚   â”‚       â”œâ”€â”€ ğŸ› ï¸ Training Portal
    â”‚   â”‚       â””â”€â”€ ğŸ› ï¸ Learning Management System
    â”‚   â”œâ”€â”€ ğŸ”‘ HR Subscription 2
    â”‚   â”‚   â””â”€â”€ ğŸ“ Recruitment Resource Group
    â”‚   â”‚       â”œâ”€â”€ ğŸ› ï¸ Candidate Database
    â”‚   â”‚       â””â”€â”€ ğŸ› ï¸ Interview Scheduling App
    â”‚   â””â”€â”€ ğŸ”‘ HR Subscription 3
    â”‚       â””â”€â”€ ğŸ“ Benefits Resource Group
    â”‚           â”œâ”€â”€ ğŸ› ï¸ Benefits Portal
    â”‚           â””â”€â”€ ğŸ› ï¸ Wellness App
```

In this diagram:

- **Tenant A** (Contoso Organization) has nested management groups under the Corporate Management Group.
- **Tenant B** (Fabrikam Organization) does not have nested management groups, and its subscriptions are directly under the HR Management Group.

---

## ğŸ” 8. Access and Governance <a id="governance"></a>

### ğŸ”‘ Role-Based Access Control (RBAC)

> Assign permissions at any level (MG, Subscription, RG, or Resource)

ğŸ§  RBAC is **inherited downward**. Assign at the top unless you need fine-grain control.

### ğŸ“ Azure Policy

> Enforce rules like "Only deploy VMs in East US"

| Azure                     | AWS                     |
| ------------------------- | ----------------------- |
| Role-Based Access Control | IAM Roles & Policies    |
| Azure Policy              | SCPs + AWS Config Rules |

---

## ğŸ’¡ 9. Best Practices & Tips <a id="tips"></a>

<div align="center">
<img src="images/azure-hierarchy-2.png" alt="Hierarchy Best Practices" style="width: 80%; border-radius: 10px;">
</div>

âœ… **Top Recommendations**:

| Tip                             | Why it Matters                             |
| ------------------------------- | ------------------------------------------ |
| Plan your tenant and subs early | Avoid moving resources later               |
| Use naming conventions          | Easier automation and billing analysis     |
| Group by app or environment     | Dev vs Prod vs Test clarity                |
| Tag resources                   | Enable cost analysis and filtering         |
| Assign RBAC at MG/Sub level     | Inheritance saves time and avoids mistakes |
| Use Azure Policy                | Enforce security and compliance at scale   |

---

## ğŸ“Œ 10. Summary <a id="summary"></a>

| Level              | Description                                           | AWS Equivalent                     |
| ------------------ | ----------------------------------------------------- | ---------------------------------- |
| **Tenant**         | Identity + directory root (Microsoft Entra ID)        | AWS Org Root + IAM Identity Center |
| **Azure Account**  | Your sign-in identity                                 | IAM User / Federated Login         |
| **MG**             | Policy and access grouping for multiple subscriptions | AWS Organizational Unit            |
| **Subscription**   | Billing + isolation container                         | AWS Account                        |
| **Resource Group** | Lifecycle group for related services                  | Tag-based group (optional)         |
| **Resource**       | Actual service (VM, DB, etc.)                         | Actual AWS service                 |
