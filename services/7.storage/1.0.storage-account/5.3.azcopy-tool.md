# ⚡ AzCopy Service – Full Walkthrough

## 📖 Official Definition

> _AzCopy is a command-line utility designed to copy data to and from Microsoft Azure Storage efficiently._

Translation: It’s like the **USB stick of the cloud**—but instead of carrying a drive, you run a single command and _whoosh_ 🚀 terabytes of data are synced to your Blob, File, or Table storage.

---

## 🎯 When to Use It

- Uploading **big datasets** quickly to Azure Blob Storage.
- **Syncing** on-prem folders with cloud containers.
- Automating **backup and restore** operations.
- **Cross-account copy** (Blob-to-Blob, between subscriptions).
- Exporting Azure Blob data to local or another storage account.

👉 Unlike Import/Export, **AzCopy is purely online** — no shipping drives.

---

## 🛠️ Step-by-Step Workflow

1️⃣ Install AzCopy  
2️⃣ Authenticate to Azure  
3️⃣ Choose Storage Type (Blob/File/Table)  
4️⃣ Run Copy/Sync Command  
5️⃣ Monitor Progress in CLI  
6️⃣ Verify Data in Azure Portal

---

## 🧑‍💻 Step 1: Install AzCopy

Download from Microsoft:
👉 [AzCopy Download](https://learn.microsoft.com/en-us/azure/storage/common/storage-use-azcopy-v10)

Install it on Windows, Linux, or macOS.

---

## 🔑 Step 2: Authenticate

You have multiple ways:

1. **Azure AD Login** (recommended):

   ```bash
   azcopy login --tenant-id <tenant-id>
   ```

   Opens browser → login with Azure creds.

2. **SAS Token Authentication**:

   ```bash
   azcopy copy "C:\data\*" "https://<account>.blob.core.windows.net/<container>?<SAS-token>"
   ```

3. **Account Key Authentication**:

   ```bash
   azcopy copy "C:\data\*" "https://<account>.blob.core.windows.net/<container>" --account-key <key>
   ```

---

## 📦 Step 3: Copy Data (Core Commands)

### 1. Upload files/folders

```bash
azcopy copy "C:\MyData\*" "https://mystorage.blob.core.windows.net/mycontainer?<SAS>" --recursive
```

👉 Uploads all files in `C:\MyData` recursively into `mycontainer`.

---

### 2. Download files

```bash
azcopy copy "https://mystorage.blob.core.windows.net/mycontainer?<SAS>" "C:\Restore\" --recursive
```

👉 Downloads everything from Blob container to local folder.

---

### 3. Sync (bi-directional-ish)

```bash
azcopy sync "C:\MyData" "https://mystorage.blob.core.windows.net/mycontainer?<SAS>" --recursive
```

> 👉 Keeps local folder and blob container in sync (new/changed files only).  
> ⚠️ _This is **one-way sync** (source → destination), not two-way like OneDrive._

---

### 4. Copy between storage accounts

```bash
azcopy copy "https://source.blob.core.windows.net/container?<SAS>" \
            "https://dest.blob.core.windows.net/container?<SAS>" --recursive
```

> 👉 Copies blobs directly between accounts (server-to-server, super fast 🚀).

---

## 📊 Step 4: Monitor Progress

- AzCopy shows **progress %**, **transfer rate**, **files copied/skipped**.
- Example output:

  ```ini
  Job 1234-5678-90abcd started
  Files Scanned: 1000, Files Transferred: 950, Throughput (Mb/s): 125
  Final Job Status: Completed
  ```

---

## ✅ Step 5: Verify in Portal

- Go to **Azure Storage Account → Containers**.
- Check uploaded files are present.
- You can also use **Azure Storage Explorer** (GUI alternative).

---

## 📌 Key Notes

- **Fast**: Parallel and chunked transfers.
- **Resumable**: If connection drops, you can restart where it left off.
- **Cross-platform**: Windows, Linux, macOS.
- **Supported Storage**: Blob (block/page/append), File, Table (limited).
- **Costs**: Standard storage egress/ingress charges, but AzCopy itself is free.

---

## 🔄 Import/Export vs AzCopy

| Feature  | Import/Export                           | AzCopy                                  |
| -------- | --------------------------------------- | --------------------------------------- |
| Mode     | **Offline** (ship drives)               | **Online** (network transfer)           |
| Scale    | TB–PB (bulk migration)                  | GB–TB (depends on bandwidth)            |
| Speed    | Limited by courier + Azure ingestion    | Limited by your **network bandwidth**   |
| Tools    | WAImportExport tool + CSVs              | AzCopy CLI only                         |
| Use case | Data center migrations, offline backups | Daily uploads, sync, cross-account copy |

---

## 📝 Summary

- **Install AzCopy** → login with Azure AD/SAS/Key.
- **Use `azcopy copy`** for upload/download, **`azcopy sync`** for keeping folders aligned.
- **Cross-account copy** = super fast server-side transfer.
- Monitor in CLI, verify in portal.
